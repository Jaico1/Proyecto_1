{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _pedido = _interopRequireDefault(require(\"./pedido/pedido.routes\"));\nvar _usuario = _interopRequireDefault(require(\"./usuario/usuario.routes\"));\nvar _restaurante = _interopRequireDefault(require(\"./restaurante/restaurante.routes\"));\nvar _producto = _interopRequireDefault(require(\"./producto/producto.routes\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// Creacion del app\nconst app = (0, _express.default)();\n\n// Conexión a MongoDB usando mongoose\n_mongoose.default.connect('mongodb+srv://' + process.env.MONGO_USER + ':' + process.env.MONGO_PASS + '@backendp1.mppkxyj.mongodb.net/?', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(() => {\n  console.log('Connected.');\n}).catch(err => {\n  console.log('There was an error with connection!');\n  console.log(err);\n});\n\n// Middlewares\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use('/pedido', _pedido.default);\napp.use('/usuario', _usuario.default);\napp.use('/restaurante', _restaurante.default);\napp.use('/producto', _producto.default);\n\n// Endpoint para 404\napp.use((req, res) => {\n  res.status(404).json({\n    message: 'Not found.'\n  });\n});\n\n// Inicia app en puerto 8080\napp.listen(8080);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfbW9uZ29vc2UiLCJfcGVkaWRvIiwiX3VzdWFyaW8iLCJfcmVzdGF1cmFudGUiLCJfcHJvZHVjdG8iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcCIsImV4cHJlc3MiLCJtb25nb29zZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVNFUiIsIk1PTkdPX1BBU1MiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwidXNlIiwiY29ycyIsImpzb24iLCJwZWRpZG9Sb3V0ZXMiLCJ1c3VhcmlvUm91dGVzIiwicmVzdGF1cmFudGVSb3V0ZXMiLCJwcm9kdWN0b1JvdXRlcyIsInJlcSIsInJlcyIsInN0YXR1cyIsIm1lc3NhZ2UiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuLy8gQ3JlYWNpb24gZGVsIGFwcFxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG4vLyBDb25leGnDs24gYSBNb25nb0RCIHVzYW5kbyBtb25nb29zZVxyXG5tb25nb29zZVxyXG4gIC5jb25uZWN0KFxyXG4gICAgJ21vbmdvZGIrc3J2Oi8vJyArXHJcbiAgICAgIHByb2Nlc3MuZW52Lk1PTkdPX1VTRVIgK1xyXG4gICAgICAnOicgK1xyXG4gICAgICBwcm9jZXNzLmVudi5NT05HT19QQVNTICtcclxuICAgICAgJ0BiYWNrZW5kcDEubXBwa3h5ai5tb25nb2RiLm5ldC8/JyxcclxuICAgIHtcclxuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXHJcbiAgICB9XHJcbiAgKVxyXG4gIC50aGVuKCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQuJyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ1RoZXJlIHdhcyBhbiBlcnJvciB3aXRoIGNvbm5lY3Rpb24hJyk7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuLy8gTWlkZGxld2FyZXNcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcclxuXHJcbmltcG9ydCBwZWRpZG9Sb3V0ZXMgZnJvbSAnLi9wZWRpZG8vcGVkaWRvLnJvdXRlcydcclxuYXBwLnVzZSgnL3BlZGlkbycsIHBlZGlkb1JvdXRlcylcclxuaW1wb3J0IHVzdWFyaW9Sb3V0ZXMgZnJvbSAnLi91c3VhcmlvL3VzdWFyaW8ucm91dGVzJ1xyXG5hcHAudXNlKCcvdXN1YXJpbycsIHVzdWFyaW9Sb3V0ZXMpXHJcbmltcG9ydCByZXN0YXVyYW50ZVJvdXRlcyBmcm9tICcuL3Jlc3RhdXJhbnRlL3Jlc3RhdXJhbnRlLnJvdXRlcydcclxuYXBwLnVzZSgnL3Jlc3RhdXJhbnRlJywgcmVzdGF1cmFudGVSb3V0ZXMpXHJcbmltcG9ydCBwcm9kdWN0b1JvdXRlcyBmcm9tICcuL3Byb2R1Y3RvL3Byb2R1Y3RvLnJvdXRlcydcclxuYXBwLnVzZSgnL3Byb2R1Y3RvJywgcHJvZHVjdG9Sb3V0ZXMpXHJcblxyXG4vLyBFbmRwb2ludCBwYXJhIDQwNFxyXG5hcHAudXNlKChyZXEsIHJlcykgPT4ge1xyXG4gIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ05vdCBmb3VuZC4nIH0pO1xyXG59KTtcclxuXHJcbi8vIEluaWNpYSBhcHAgZW4gcHVlcnRvIDgwODBcclxuYXBwLmxpc3Rlbig4MDgwKTtcclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFNBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQThCQSxJQUFBRyxPQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBSSxRQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBSyxZQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBdUQsU0FBQUQsdUJBQUFRLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFsQ3ZEO0FBQ0EsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEdBQUU7O0FBRXJCO0FBQ0FDLGlCQUFRLENBQ0xDLE9BQU8sQ0FDTixnQkFBZ0IsR0FDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFVBQVUsR0FDdEIsR0FBRyxHQUNIRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsVUFBVSxHQUN0QixrQ0FBa0MsRUFDcEM7RUFDRUMsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBQ3RCLENBQUMsQ0FDRixDQUNBQyxJQUFJLENBQUMsTUFBTTtFQUNWQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxZQUFZLENBQUM7QUFDM0IsQ0FBQyxDQUFDLENBQ0RDLEtBQUssQ0FBRUMsR0FBRyxJQUFLO0VBQ2RILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHFDQUFxQyxDQUFDO0VBQ2xERCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDO0FBQ2xCLENBQUMsQ0FBQzs7QUFFSjtBQUNBZCxHQUFHLENBQUNlLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEdBQUUsQ0FBQztBQUNmaEIsR0FBRyxDQUFDZSxHQUFHLENBQUNkLGdCQUFPLENBQUNnQixJQUFJLEVBQUUsQ0FBQztBQUd2QmpCLEdBQUcsQ0FBQ2UsR0FBRyxDQUFDLFNBQVMsRUFBRUcsZUFBWSxDQUFDO0FBRWhDbEIsR0FBRyxDQUFDZSxHQUFHLENBQUMsVUFBVSxFQUFFSSxnQkFBYSxDQUFDO0FBRWxDbkIsR0FBRyxDQUFDZSxHQUFHLENBQUMsY0FBYyxFQUFFSyxvQkFBaUIsQ0FBQztBQUUxQ3BCLEdBQUcsQ0FBQ2UsR0FBRyxDQUFDLFdBQVcsRUFBRU0saUJBQWMsQ0FBQzs7QUFFcEM7QUFDQXJCLEdBQUcsQ0FBQ2UsR0FBRyxDQUFDLENBQUNPLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3BCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ1AsSUFBSSxDQUFDO0lBQUVRLE9BQU8sRUFBRTtFQUFhLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUM7O0FBRUY7QUFDQXpCLEdBQUcsQ0FBQzBCLE1BQU0sQ0FBQyxJQUFJLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_mongoose","_pedido","_usuario","_restaurante","_producto","obj","__esModule","default","app","express","mongoose","connect","process","env","MONGO_USER","MONGO_PASS","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","use","cors","json","pedidoRoutes","usuarioRoutes","restauranteRoutes","productoRoutes","req","res","status","message","listen"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\","sources":["index.js"],"sourcesContent":["import express from 'express';\r\nimport cors from 'cors';\r\nimport mongoose from 'mongoose';\r\n\r\n// Creacion del app\r\nconst app = express();\r\n\r\n// Conexión a MongoDB usando mongoose\r\nmongoose\r\n  .connect(\r\n    'mongodb+srv://' +\r\n      process.env.MONGO_USER +\r\n      ':' +\r\n      process.env.MONGO_PASS +\r\n      '@backendp1.mppkxyj.mongodb.net/?',\r\n    {\r\n      useNewUrlParser: true,\r\n      useUnifiedTopology: true,\r\n    }\r\n  )\r\n  .then(() => {\r\n    console.log('Connected.');\r\n  })\r\n  .catch((err) => {\r\n    console.log('There was an error with connection!');\r\n    console.log(err);\r\n  });\r\n\r\n// Middlewares\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\nimport pedidoRoutes from './pedido/pedido.routes'\r\napp.use('/pedido', pedidoRoutes)\r\nimport usuarioRoutes from './usuario/usuario.routes'\r\napp.use('/usuario', usuarioRoutes)\r\nimport restauranteRoutes from './restaurante/restaurante.routes'\r\napp.use('/restaurante', restauranteRoutes)\r\nimport productoRoutes from './producto/producto.routes'\r\napp.use('/producto', productoRoutes)\r\n\r\n// Endpoint para 404\r\napp.use((req, res) => {\r\n  res.status(404).json({ message: 'Not found.' });\r\n});\r\n\r\n// Inicia app en puerto 8080\r\napp.listen(8080);\r\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAH,sBAAA,CAAAC,OAAA;AA8BA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,QAAA,GAAAL,sBAAA,CAAAC,OAAA;AAEA,IAAAK,YAAA,GAAAN,sBAAA,CAAAC,OAAA;AAEA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAuD,SAAAD,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAlCvD;AACA,MAAMG,GAAG,GAAG,IAAAC,gBAAO,GAAE;;AAErB;AACAC,iBAAQ,CACLC,OAAO,CACN,gBAAgB,GACdC,OAAO,CAACC,GAAG,CAACC,UAAU,GACtB,GAAG,GACHF,OAAO,CAACC,GAAG,CAACE,UAAU,GACtB,kCAAkC,EACpC;EACEC,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CACF,CACAC,IAAI,CAAC,MAAM;EACVC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;AAC3B,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;EACdH,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;EAClDD,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;AAClB,CAAC,CAAC;;AAEJ;AACAd,GAAG,CAACe,GAAG,CAAC,IAAAC,aAAI,GAAE,CAAC;AACfhB,GAAG,CAACe,GAAG,CAACd,gBAAO,CAACgB,IAAI,EAAE,CAAC;AAGvBjB,GAAG,CAACe,GAAG,CAAC,SAAS,EAAEG,eAAY,CAAC;AAEhClB,GAAG,CAACe,GAAG,CAAC,UAAU,EAAEI,gBAAa,CAAC;AAElCnB,GAAG,CAACe,GAAG,CAAC,cAAc,EAAEK,oBAAiB,CAAC;AAE1CpB,GAAG,CAACe,GAAG,CAAC,WAAW,EAAEM,iBAAc,CAAC;;AAEpC;AACArB,GAAG,CAACe,GAAG,CAAC,CAACO,GAAG,EAAEC,GAAG,KAAK;EACpBA,GAAG,CAACC,MAAM,CAAC,GAAG,CAAC,CAACP,IAAI,CAAC;IAAEQ,OAAO,EAAE;EAAa,CAAC,CAAC;AACjD,CAAC,CAAC;;AAEF;AACAzB,GAAG,CAAC0B,MAAM,CAAC,IAAI,CAAC"}},"mtime":1681874247849},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\pedido.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _pedido = require(\"./pedido.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _pedido.getPedido);\n\n// Endpoint POST /prueba\nrouter.post('/', _pedido.createPedido);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _pedido.patchPedido);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _pedido.deletePedido);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGVkaWRvIiwicmVxdWlyZSIsIl9leHByZXNzIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0UGVkaWRvIiwicG9zdCIsImNyZWF0ZVBlZGlkbyIsInBhdGNoIiwicGF0Y2hQZWRpZG8iLCJkZWxldGUiLCJkZWxldGVQZWRpZG8iLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxwZWRpZG9cXCIsInNvdXJjZXMiOlsicGVkaWRvLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQZWRpZG8sIGRlbGV0ZVBlZGlkbywgZ2V0UGVkaWRvLCBwYXRjaFBlZGlkbyB9IGZyb20gXCIuL3BlZGlkby5jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyBFbmRwb2ludCBHRVQgL3BydWViYVxyXG5yb3V0ZXIuZ2V0KCcvJywgZ2V0UGVkaWRvICk7XHJcblxyXG4vLyBFbmRwb2ludCBQT1NUIC9wcnVlYmFcclxucm91dGVyLnBvc3QoJy8nLCBjcmVhdGVQZWRpZG8gKTtcclxuXHJcbi8vIEVuZHBvaW50IFBBVENIIC9wcnVlYmFcclxucm91dGVyLnBhdGNoKCcvJywgcGF0Y2hQZWRpZG8gKTtcclxuXHJcbi8vIEVuZHBvaW50IERFTEVURSAvcHJ1ZWJhXHJcbnJvdXRlci5kZWxldGUoJy8nLCBkZWxldGVQZWRpZG8gKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUNBLE1BQU1FLE1BQU0sR0FBRyxJQUFBQyxlQUFNLEdBQUU7O0FBRXZCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsaUJBQVMsQ0FBRTs7QUFFM0I7QUFDQUgsTUFBTSxDQUFDSSxJQUFJLENBQUMsR0FBRyxFQUFFQyxvQkFBWSxDQUFFOztBQUUvQjtBQUNBTCxNQUFNLENBQUNNLEtBQUssQ0FBQyxHQUFHLEVBQUVDLG1CQUFXLENBQUU7O0FBRS9CO0FBQ0FQLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsRUFBRUMsb0JBQVksQ0FBRTtBQUFDLElBQUFDLFFBQUEsR0FFbkJWLE1BQU07QUFBQVcsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_pedido","require","_express","router","Router","get","getPedido","post","createPedido","patch","patchPedido","delete","deletePedido","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\pedido\\","sources":["pedido.routes.js"],"sourcesContent":["import { createPedido, deletePedido, getPedido, patchPedido } from \"./pedido.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getPedido );\r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createPedido );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchPedido );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deletePedido );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,MAAME,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,iBAAS,CAAE;;AAE3B;AACAH,MAAM,CAACI,IAAI,CAAC,GAAG,EAAEC,oBAAY,CAAE;;AAE/B;AACAL,MAAM,CAACM,KAAK,CAAC,GAAG,EAAEC,mBAAW,CAAE;;AAE/B;AACAP,MAAM,CAACQ,MAAM,CAAC,GAAG,EAAEC,oBAAY,CAAE;AAAC,IAAAC,QAAA,GAEnBV,MAAM;AAAAW,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1681870790474},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\pedido.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPedido = createPedido;\nexports.deletePedido = deletePedido;\nexports.getPedido = getPedido;\nexports.getPedidoNoAceptado = getPedidoNoAceptado;\nexports.getPedidoUserDate = getPedidoUserDate;\nexports.patchPedido = patchPedido;\nvar _pedido = _interopRequireDefault(require(\"./pedido.model\"));\nvar _restaurante = _interopRequireDefault(require(\"../restaurante/restaurante.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function getPedido(req, res) {\n  try {\n    // se recibe un id y se usa en la funcion findOne\n    const {\n      _id\n    } = req.query;\n    const pedido = await _pedido.default.findOne({\n      _id,\n      isDeleted: false\n    });\n    res.status(200).json(pedido);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getPedidoNoAceptado(req, res) {\n  try {\n    // se envian los pedidos en estado enviado\n    const pedido = await _pedido.default.findOne({\n      estado: \"enviado\",\n      isDeleted: false\n    });\n    res.status(200).json(pedido);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getPedidoUserDate(req, res) {\n  try {\n    const {\n      domiciliario,\n      cliente,\n      restaurante,\n      fechaInicial,\n      fechaFinal\n    } = req.query;\n    let query = {\n      isDeleted: false\n    }; // se crea un objeto query donde estaran los filtos \n\n    // solo se agreaga un key al objeto si este se encuentra en el query de express\n    if (domiciliario) {\n      query.domiciliario = domiciliario;\n    }\n    if (cliente) {\n      query.cliente = cliente;\n    }\n    if (restaurante) {\n      query.restaurante = restaurante;\n    }\n    if (fechaInicial && fechaFinal) {\n      query.createdAt = {\n        $gte: new Date(fechaInicial),\n        $lte: new Date(fechaFinal)\n      };\n    }\n    let pedidos = [];\n\n    // solo hara el find() si el query contiene algo para evitar que se envien todos los pedidos hechos \n    if (Object.keys(req.query).length > 0) {\n      pedidos = await _pedido.default.find(query);\n    }\n    res.status(200).json(pedidos);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function createPedido(req, res) {\n  try {\n    const {\n      restaurante,\n      domiciliario,\n      cliente,\n      productos,\n      cantidad,\n      precio\n    } = req.body;\n    const pedido = new _pedido.default({\n      restaurante,\n      domiciliario,\n      cliente,\n      productos,\n      cantidad,\n      precio\n    });\n    const resultado = await pedido.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchPedido(req, res) {\n  try {\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _pedido.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n\n    // se suma 1 al valor de numPedidos en el restaurante que se realizo el pedido\n    if (updates.estado == \"realizado\") {\n      const tempRes = await _restaurante.default.findOne(resultado.restaurante);\n      let resCont = tempRes.numPedidos;\n      resCont = resCont + 1;\n      let cambio = {};\n      cambio.numPedidos = resCont;\n      const restauranteNew = await _restaurante.default.findOneAndUpdate(resultado.restaurante, cambio, {\n        new: true,\n        runValidators: true\n      });\n      console.log(restauranteNew);\n    }\n    res.status(200).json(resultado);\n  } catch (err) {\n    console.log(err);\n    res.status(500).json(err);\n  }\n}\nasync function deletePedido(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await _pedido.default.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGVkaWRvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzdGF1cmFudGUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldFBlZGlkbyIsInJlcSIsInJlcyIsIl9pZCIsInF1ZXJ5IiwicGVkaWRvIiwiUGVkaWRvIiwiZmluZE9uZSIsImlzRGVsZXRlZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJnZXRQZWRpZG9Ob0FjZXB0YWRvIiwiZXN0YWRvIiwiZ2V0UGVkaWRvVXNlckRhdGUiLCJkb21pY2lsaWFyaW8iLCJjbGllbnRlIiwicmVzdGF1cmFudGUiLCJmZWNoYUluaWNpYWwiLCJmZWNoYUZpbmFsIiwiY3JlYXRlZEF0IiwiJGd0ZSIsIkRhdGUiLCIkbHRlIiwicGVkaWRvcyIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJmaW5kIiwiY3JlYXRlUGVkaWRvIiwicHJvZHVjdG9zIiwiY2FudGlkYWQiLCJwcmVjaW8iLCJib2R5IiwicmVzdWx0YWRvIiwic2F2ZSIsInBhdGNoUGVkaWRvIiwidXBkYXRlcyIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJydW5WYWxpZGF0b3JzIiwidGVtcFJlcyIsIlJlc3RhdXJhbnRlIiwicmVzQ29udCIsIm51bVBlZGlkb3MiLCJjYW1iaW8iLCJyZXN0YXVyYW50ZU5ldyIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVQZWRpZG8iLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHBlZGlkb1xcIiwic291cmNlcyI6WyJwZWRpZG8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFBlZGlkbyBmcm9tICcuL3BlZGlkby5tb2RlbCc7XHJcbmltcG9ydCBSZXN0YXVyYW50ZSBmcm9tICcuLi9yZXN0YXVyYW50ZS9yZXN0YXVyYW50ZS5tb2RlbCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVkaWRvKHJlcSxyZXMpIHtcclxuICB0cnl7IFxyXG4gICAgLy8gc2UgcmVjaWJlIHVuIGlkIHkgc2UgdXNhIGVuIGxhIGZ1bmNpb24gZmluZE9uZVxyXG4gICAgY29uc3QgeyBfaWQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHBlZGlkbyA9IGF3YWl0IFBlZGlkby5maW5kT25lKHtfaWQsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocGVkaWRvKTtcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVkaWRvTm9BY2VwdGFkbyhyZXEscmVzKSB7XHJcbiAgdHJ5eyBcclxuICAgIC8vIHNlIGVudmlhbiBsb3MgcGVkaWRvcyBlbiBlc3RhZG8gZW52aWFkb1xyXG4gICAgY29uc3QgcGVkaWRvID0gYXdhaXQgUGVkaWRvLmZpbmRPbmUoe2VzdGFkbzogXCJlbnZpYWRvXCIsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocGVkaWRvKTtcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVkaWRvVXNlckRhdGUocmVxLHJlcykge1xyXG4gIHRyeXsgXHJcbiAgICBjb25zdCB7IGRvbWljaWxpYXJpbywgY2xpZW50ZSwgcmVzdGF1cmFudGUsIGZlY2hhSW5pY2lhbCwgZmVjaGFGaW5hbCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgIGxldCBxdWVyeT0ge2lzRGVsZXRlZDogZmFsc2V9OyAvLyBzZSBjcmVhIHVuIG9iamV0byBxdWVyeSBkb25kZSBlc3RhcmFuIGxvcyBmaWx0b3MgXHJcblxyXG4gICAgLy8gc29sbyBzZSBhZ3JlYWdhIHVuIGtleSBhbCBvYmpldG8gc2kgZXN0ZSBzZSBlbmN1ZW50cmEgZW4gZWwgcXVlcnkgZGUgZXhwcmVzc1xyXG4gICAgaWYoZG9taWNpbGlhcmlvKXtcclxuICAgICAgcXVlcnkuZG9taWNpbGlhcmlvPSBkb21pY2lsaWFyaW87XHJcbiAgICB9XHJcbiAgICBpZihjbGllbnRlKXtcclxuICAgICAgcXVlcnkuY2xpZW50ZSA9IGNsaWVudGU7XHJcbiAgICB9XHJcbiAgICBpZihyZXN0YXVyYW50ZSl7XHJcbiAgICAgIHF1ZXJ5LnJlc3RhdXJhbnRlID0gcmVzdGF1cmFudGU7XHJcbiAgICB9XHJcbiAgICBpZiAoZmVjaGFJbmljaWFsICYmIGZlY2hhRmluYWwpe1xyXG4gICAgICBxdWVyeS5jcmVhdGVkQXQgPSB7JGd0ZTogbmV3IERhdGUoZmVjaGFJbmljaWFsKSwgJGx0ZTpuZXcgRGF0ZShmZWNoYUZpbmFsKX07XHJcbiAgICB9ICBcclxuICAgIGxldCBwZWRpZG9zID0gW107XHJcblxyXG4gICAgLy8gc29sbyBoYXJhIGVsIGZpbmQoKSBzaSBlbCBxdWVyeSBjb250aWVuZSBhbGdvIHBhcmEgZXZpdGFyIHF1ZSBzZSBlbnZpZW4gdG9kb3MgbG9zIHBlZGlkb3MgaGVjaG9zIFxyXG4gICAgaWYgKE9iamVjdC5rZXlzKHJlcS5xdWVyeSkubGVuZ3RoID4gMCkge1xyXG4gICAgICBwZWRpZG9zID0gYXdhaXQgUGVkaWRvLmZpbmQocXVlcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHBlZGlkb3MpO1xyXG4gIH1jYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQZWRpZG8ocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyByZXN0YXVyYW50ZSwgZG9taWNpbGlhcmlvLCBjbGllbnRlLCBwcm9kdWN0b3MsIGNhbnRpZGFkLCBwcmVjaW99ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCBwZWRpZG8gPSBuZXcgUGVkaWRvKHsgcmVzdGF1cmFudGUsIGRvbWljaWxpYXJpbywgY2xpZW50ZSwgcHJvZHVjdG9zLCBjYW50aWRhZCwgcHJlY2lvIH0pO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgcGVkaWRvLnNhdmUoKTsgXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHRhZG8pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXRjaFBlZGlkbyhyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IHsgX2lkLCAuLi51cGRhdGVzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFBlZGlkby5maW5kT25lQW5kVXBkYXRlKHtfaWQsIGlzRGVsZXRlZCA6IGZhbHNlfSx1cGRhdGVzICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgXHJcbiAgICAvLyBzZSBzdW1hIDEgYWwgdmFsb3IgZGUgbnVtUGVkaWRvcyBlbiBlbCByZXN0YXVyYW50ZSBxdWUgc2UgcmVhbGl6byBlbCBwZWRpZG9cclxuICAgIGlmKHVwZGF0ZXMuZXN0YWRvPT1cInJlYWxpemFkb1wiKXtcclxuICAgICAgY29uc3QgdGVtcFJlcyA9IGF3YWl0IFJlc3RhdXJhbnRlLmZpbmRPbmUocmVzdWx0YWRvLnJlc3RhdXJhbnRlIClcclxuICAgICAgbGV0IHJlc0NvbnQgPSB0ZW1wUmVzLm51bVBlZGlkb3M7XHJcbiAgICAgIHJlc0NvbnQ9cmVzQ29udCsxO1xyXG4gICAgICBsZXQgY2FtYmlvPXt9O1xyXG4gICAgICBjYW1iaW8ubnVtUGVkaWRvcyA9IHJlc0NvbnQ7XHJcbiAgICAgIGNvbnN0IHJlc3RhdXJhbnRlTmV3ID0gYXdhaXQgUmVzdGF1cmFudGUuZmluZE9uZUFuZFVwZGF0ZShyZXN1bHRhZG8ucmVzdGF1cmFudGUgLCBjYW1iaW8seyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWV9KTtcclxuICAgICAgY29uc29sZS5sb2cocmVzdGF1cmFudGVOZXcpO1xyXG4gICAgfVxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9IFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGVkaWRvKHJlcSwgcmVzKSB7XHJcbiAgdHJ5e1xyXG4gICAgY29uc3QgX2lkID0gcmVxLnBhcmFtcy5faWQ7XHJcbiAgICBjb25zdCByZXN1bHRhZG8gPSBhd2FpdCBQZWRpZG8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQTJELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXBELGVBQWVHLFNBQVNBLENBQUNDLEdBQUcsRUFBQ0MsR0FBRyxFQUFFO0VBQ3ZDLElBQUc7SUFDRDtJQUNBLE1BQU07TUFBRUM7SUFBSSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSztJQUN6QixNQUFNQyxNQUFN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","map":{"version":3,"names":["_pedido","_interopRequireDefault","require","_restaurante","obj","__esModule","default","getPedido","req","res","_id","query","pedido","Pedido","findOne","isDeleted","status","json","err","getPedidoNoAceptado","estado","getPedidoUserDate","domiciliario","cliente","restaurante","fechaInicial","fechaFinal","createdAt","$gte","Date","$lte","pedidos","Object","keys","length","find","createPedido","productos","cantidad","precio","body","resultado","save","patchPedido","updates","findOneAndUpdate","new","runValidators","tempRes","Restaurante","resCont","numPedidos","cambio","restauranteNew","console","log","deletePedido","params"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\pedido\\","sources":["pedido.controller.js"],"sourcesContent":["\r\nimport Pedido from './pedido.model';\r\nimport Restaurante from '../restaurante/restaurante.model';\r\n\r\nexport async function getPedido(req,res) {\r\n  try{ \r\n    // se recibe un id y se usa en la funcion findOne\r\n    const { _id } = req.query;\r\n    const pedido = await Pedido.findOne({_id, isDeleted:false});\r\n    res.status(200).json(pedido);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getPedidoNoAceptado(req,res) {\r\n  try{ \r\n    // se envian los pedidos en estado enviado\r\n    const pedido = await Pedido.findOne({estado: \"enviado\", isDeleted:false});\r\n    res.status(200).json(pedido);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getPedidoUserDate(req,res) {\r\n  try{ \r\n    const { domiciliario, cliente, restaurante, fechaInicial, fechaFinal } = req.query;\r\n\r\n    let query= {isDeleted: false}; // se crea un objeto query donde estaran los filtos \r\n\r\n    // solo se agreaga un key al objeto si este se encuentra en el query de express\r\n    if(domiciliario){\r\n      query.domiciliario= domiciliario;\r\n    }\r\n    if(cliente){\r\n      query.cliente = cliente;\r\n    }\r\n    if(restaurante){\r\n      query.restaurante = restaurante;\r\n    }\r\n    if (fechaInicial && fechaFinal){\r\n      query.createdAt = {$gte: new Date(fechaInicial), $lte:new Date(fechaFinal)};\r\n    }  \r\n    let pedidos = [];\r\n\r\n    // solo hara el find() si el query contiene algo para evitar que se envien todos los pedidos hechos \r\n    if (Object.keys(req.query).length > 0) {\r\n      pedidos = await Pedido.find(query);\r\n    }\r\n\r\n    res.status(200).json(pedidos);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function createPedido(req, res) {\r\n  try {\r\n    const { restaurante, domiciliario, cliente, productos, cantidad, precio} = req.body;\r\n    const pedido = new Pedido({ restaurante, domiciliario, cliente, productos, cantidad, precio });\r\n    const resultado = await pedido.save(); \r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchPedido(req, res) {\r\n  try{\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Pedido.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    \r\n    // se suma 1 al valor de numPedidos en el restaurante que se realizo el pedido\r\n    if(updates.estado==\"realizado\"){\r\n      const tempRes = await Restaurante.findOne(resultado.restaurante )\r\n      let resCont = tempRes.numPedidos;\r\n      resCont=resCont+1;\r\n      let cambio={};\r\n      cambio.numPedidos = resCont;\r\n      const restauranteNew = await Restaurante.findOneAndUpdate(resultado.restaurante , cambio,{ new: true, runValidators: true});\r\n      console.log(restauranteNew);\r\n    }\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n      console.log(err)\r\n      res.status(500).json(err);\r\n  } \r\n}\r\n\r\nexport async function deletePedido(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Pedido.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682991721301},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\pedido.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst pedidoSchema = mongoose.Schema({\n  // campos\n  restaurante: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"restaurante\",\n    required: true,\n    immutable: true,\n    validate: {\n      validator: async function (id) {\n        const restaurante = await mongoose.model(\"restaurante\").findOne({\n          _id: id\n        });\n        if (restaurante == null || restaurante.isDeleted == true) {\n          throw new Error('No se encontro el restaurante');\n        }\n      }\n    }\n  },\n  domiciliario: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"usuario\",\n    required: false,\n    validate: {\n      validator: async function (id) {\n        const user = await mongoose.model(\"usuario\").findOne({\n          _id: id\n        });\n        if (user == null || user.tipo != \"domiciliario\" || user.isDeleted == true) {\n          throw new Error('No se encontro el domiciliario');\n        }\n      }\n    }\n  },\n  cliente: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"usuario\",\n    required: true,\n    immutable: true,\n    validate: {\n      validator: async function (id) {\n        const user = await mongoose.model(\"usuario\").findOne({\n          _id: id\n        });\n        if (user == null || user.tipo != \"cliente\" || user.isDeleted == true) {\n          throw new Error('No se encontro el cliente');\n        }\n      }\n    }\n  },\n  productos: [{\n    producto: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: \"producto\",\n      required: true,\n      immutable: true,\n      validate: {\n        validator: async function (id) {\n          const producto = await mongoose.model(\"producto\").findOne({\n            _id: id\n          });\n          if (producto == null || producto.isDeleted == true) {\n            throw new Error('No se encontro el producto');\n          }\n        }\n      }\n    },\n    cantidad: {\n      type: Number,\n      required: true\n    }\n  }],\n  distanciaRest: {\n    type: Number\n  },\n  distanciaUser: {\n    type: Number\n  },\n  precio: {\n    type: Number,\n    required: true,\n    immutable: true\n  },\n  estado: {\n    type: String,\n    required: true,\n    default: \"enviado\",\n    enum: [\"creado\", \"enviado\", \"aceptado\", \"recibido\", \"en direccion\", \"realizado\"]\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('pedido', pedidoSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwZWRpZG9TY2hlbWEiLCJTY2hlbWEiLCJyZXN0YXVyYW50ZSIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbW11dGFibGUiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsImlkIiwibW9kZWwiLCJmaW5kT25lIiwiX2lkIiwiaXNEZWxldGVkIiwiRXJyb3IiLCJkb21pY2lsaWFyaW8iLCJ1c2VyIiwidGlwbyIsImNsaWVudGUiLCJwcm9kdWN0b3MiLCJwcm9kdWN0byIsImNhbnRpZGFkIiwiTnVtYmVyIiwiZGlzdGFuY2lhUmVzdCIsImRpc3RhbmNpYVVzZXIiLCJwcmVjaW8iLCJlc3RhZG8iLCJTdHJpbmciLCJkZWZhdWx0IiwiZW51bSIsIkJvb2xlYW4iLCJ0aW1lc3RhbXBzIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxwZWRpZG9cXCIsInNvdXJjZXMiOlsicGVkaWRvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHBlZGlkb1NjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICAvLyBjYW1wb3NcclxuICAgIHJlc3RhdXJhbnRlOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcInJlc3RhdXJhbnRlXCIsIHJlcXVpcmVkOiB0cnVlICxpbW11dGFibGU6IHRydWUsIHZhbGlkYXRlOiB7dmFsaWRhdG9yOiBhc3luYyBmdW5jdGlvbiAoaWQpe1xyXG4gICAgICBjb25zdCByZXN0YXVyYW50ZSA9IGF3YWl0IG1vbmdvb3NlLm1vZGVsKFwicmVzdGF1cmFudGVcIikuZmluZE9uZSh7X2lkOmlkfSk7XHJcbiAgICAgIGlmKHJlc3RhdXJhbnRlPT1udWxsIHx8IHJlc3RhdXJhbnRlLmlzRGVsZXRlZCA9PXRydWUpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgZW5jb250cm8gZWwgcmVzdGF1cmFudGUnKTtcclxuICAgICAgfVxyXG4gICAgfX19LFxyXG4gICAgZG9taWNpbGlhcmlvOiB7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwidXN1YXJpb1wiLCByZXF1aXJlZDogZmFsc2UsIHZhbGlkYXRlOiB7dmFsaWRhdG9yOiBhc3luYyBmdW5jdGlvbiAoaWQpe1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJ1c3VhcmlvXCIpLmZpbmRPbmUoe19pZDppZH0pO1xyXG4gICAgICBpZih1c2VyPT1udWxsIHx8IHVzZXIudGlwbyE9XCJkb21pY2lsaWFyaW9cInx8IHVzZXIuaXNEZWxldGVkID09dHJ1ZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBlbmNvbnRybyBlbCBkb21pY2lsaWFyaW8nKTtcclxuICAgICAgfVxyXG4gICAgfX19LFxyXG4gICAgY2xpZW50ZTogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJ1c3VhcmlvXCIsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUsIHZhbGlkYXRlOiB7dmFsaWRhdG9yOiBhc3luYyBmdW5jdGlvbiAoaWQpe1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJ1c3VhcmlvXCIpLmZpbmRPbmUoe19pZDppZH0pO1xyXG4gICAgICBpZih1c2VyPT1udWxsIHx8IHVzZXIudGlwbyE9XCJjbGllbnRlXCJ8fCB1c2VyLmlzRGVsZXRlZCA9PXRydWUpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgZW5jb250cm8gZWwgY2xpZW50ZScpO1xyXG4gICAgICB9XHJcbiAgICB9LCB9fSxcclxuICAgIHByb2R1Y3RvczogW3sgcHJvZHVjdG86e3R5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOlwicHJvZHVjdG9cIiwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSwgdmFsaWRhdGU6IHt2YWxpZGF0b3I6IGFzeW5jIGZ1bmN0aW9uIChpZCl7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3RvID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJwcm9kdWN0b1wiKS5maW5kT25lKHtfaWQ6aWR9KTtcclxuICAgICAgaWYocHJvZHVjdG89PW51bGwgfHwgcHJvZHVjdG8uaXNEZWxldGVkID09dHJ1ZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBlbmNvbnRybyBlbCBwcm9kdWN0bycpO1xyXG4gICAgICB9XHJcbiAgICB9fX0sXHJcbiAgICBjYW50aWRhZDp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9fVxyXG4gICAgXSxcclxuICAgIGRpc3RhbmNpYVJlc3Q6e3R5cGU6TnVtYmVyfSxcclxuICAgIGRpc3RhbmNpYVVzZXI6e3R5cGU6TnVtYmVyfSxcclxuICAgIHByZWNpbzogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG4gICAgZXN0YWRvOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6XCJlbnZpYWRvXCIsIGVudW06IFtcImNyZWFkb1wiLFwiZW52aWFkb1wiLFwiYWNlcHRhZG9cIixcInJlY2liaWRvXCIsIFwiZW4gZGlyZWNjaW9uXCIsIFwicmVhbGl6YWRvXCJdfSxcclxuICAgIGlzRGVsZXRlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCdwZWRpZG8nLCBwZWRpZG9TY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7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","map":{"version":3,"names":["mongoose","require","pedidoSchema","Schema","restaurante","type","Types","ObjectId","ref","required","immutable","validate","validator","id","model","findOne","_id","isDeleted","Error","domiciliario","user","tipo","cliente","productos","producto","cantidad","Number","distanciaRest","distanciaUser","precio","estado","String","default","enum","Boolean","timestamps","_default","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\pedido\\","sources":["pedido.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst pedidoSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    restaurante: { type: mongoose.Schema.Types.ObjectId, ref: \"restaurante\", required: true ,immutable: true, validate: {validator: async function (id){\r\n      const restaurante = await mongoose.model(\"restaurante\").findOne({_id:id});\r\n      if(restaurante==null || restaurante.isDeleted ==true){\r\n        throw new Error('No se encontro el restaurante');\r\n      }\r\n    }}},\r\n    domiciliario: {type: mongoose.Schema.Types.ObjectId, ref: \"usuario\", required: false, validate: {validator: async function (id){\r\n      const user = await mongoose.model(\"usuario\").findOne({_id:id});\r\n      if(user==null || user.tipo!=\"domiciliario\"|| user.isDeleted ==true){\r\n        throw new Error('No se encontro el domiciliario');\r\n      }\r\n    }}},\r\n    cliente: { type: mongoose.Schema.Types.ObjectId, ref: \"usuario\", required: true, immutable: true, validate: {validator: async function (id){\r\n      const user = await mongoose.model(\"usuario\").findOne({_id:id});\r\n      if(user==null || user.tipo!=\"cliente\"|| user.isDeleted ==true){\r\n        throw new Error('No se encontro el cliente');\r\n      }\r\n    }, }},\r\n    productos: [{ producto:{type: mongoose.Schema.Types.ObjectId, ref:\"producto\", required: true, immutable: true, validate: {validator: async function (id){\r\n      const producto = await mongoose.model(\"producto\").findOne({_id:id});\r\n      if(producto==null || producto.isDeleted ==true){\r\n        throw new Error('No se encontro el producto');\r\n      }\r\n    }}},\r\n    cantidad:{type:Number, required:true}}\r\n    ],\r\n    distanciaRest:{type:Number},\r\n    distanciaUser:{type:Number},\r\n    precio: { type: Number, required:true, immutable: true },\r\n    estado: { type: String, required: true, default:\"enviado\", enum: [\"creado\",\"enviado\",\"aceptado\",\"recibido\", \"en direccion\", \"realizado\"]},\r\n    isDeleted: { type: Boolean, default: false },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('pedido', pedidoSchema);\r\n"],"mappings":"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"}},"mtime":1682659430373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\usuario.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _usuario = require(\"./usuario.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _usuario.getUsuario);\n\n// Endpoint POST /prueba\nrouter.post('/', _usuario.createUsuario);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _usuario.patchUsuario);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _usuario.deleteUsuario);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXN1YXJpbyIsInJlcXVpcmUiLCJfZXhwcmVzcyIsInJvdXRlciIsIlJvdXRlciIsImdldCIsImdldFVzdWFyaW8iLCJwb3N0IiwiY3JlYXRlVXN1YXJpbyIsInBhdGNoIiwicGF0Y2hVc3VhcmlvIiwiZGVsZXRlIiwiZGVsZXRlVXN1YXJpbyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHVzdWFyaW9cXCIsInNvdXJjZXMiOlsidXN1YXJpby5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlVXN1YXJpbywgZGVsZXRlVXN1YXJpbywgZ2V0VXN1YXJpbywgcGF0Y2hVc3VhcmlvIH0gZnJvbSBcIi4vdXN1YXJpby5jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyBFbmRwb2ludCBHRVQgL3BydWViYVxyXG5yb3V0ZXIuZ2V0KCcvJywgZ2V0VXN1YXJpbyk7XHJcblxyXG4vLyBFbmRwb2ludCBQT1NUIC9wcnVlYmFcclxucm91dGVyLnBvc3QoJy8nLCBjcmVhdGVVc3VhcmlvICk7XHJcblxyXG4vLyBFbmRwb2ludCBQQVRDSCAvcHJ1ZWJhXHJcbnJvdXRlci5wYXRjaCgnLycsIHBhdGNoVXN1YXJpbyApO1xyXG5cclxuLy8gRW5kcG9pbnQgREVMRVRFIC9wcnVlYmFcclxucm91dGVyLmRlbGV0ZSgnLycsIGRlbGV0ZVVzdWFyaW8gKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUNBLE1BQU1FLE1BQU0sR0FBRyxJQUFBQyxlQUFNLEdBQUU7O0FBRXZCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsbUJBQVUsQ0FBQzs7QUFFM0I7QUFDQUgsTUFBTSxDQUFDSSxJQUFJLENBQUMsR0FBRyxFQUFFQyxzQkFBYSxDQUFFOztBQUVoQztBQUNBTCxNQUFNLENBQUNNLEtBQUssQ0FBQyxHQUFHLEVBQUVDLHFCQUFZLENBQUU7O0FBRWhDO0FBQ0FQLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsRUFBRUMsc0JBQWEsQ0FBRTtBQUFDLElBQUFDLFFBQUEsR0FFcEJWLE1BQU07QUFBQVcsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_usuario","require","_express","router","Router","get","getUsuario","post","createUsuario","patch","patchUsuario","delete","deleteUsuario","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\usuario\\","sources":["usuario.routes.js"],"sourcesContent":["import { createUsuario, deleteUsuario, getUsuario, patchUsuario } from \"./usuario.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getUsuario);\r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createUsuario );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchUsuario );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deleteUsuario );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,MAAME,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,mBAAU,CAAC;;AAE3B;AACAH,MAAM,CAACI,IAAI,CAAC,GAAG,EAAEC,sBAAa,CAAE;;AAEhC;AACAL,MAAM,CAACM,KAAK,CAAC,GAAG,EAAEC,qBAAY,CAAE;;AAEhC;AACAP,MAAM,CAACQ,MAAM,CAAC,GAAG,EAAEC,sBAAa,CAAE;AAAC,IAAAC,QAAA,GAEpBV,MAAM;AAAAW,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682640522019},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\pedido.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _pedido = require(\"./pedido.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _pedido.getPedido);\nrouter.get('/usuarios', _pedido.getPedidoUserDate);\nrouter.get('/enviados', _pedido.getPedidoNoAceptado);\n\n// Endpoint POST /prueba\nrouter.post('/', _pedido.createPedido);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _pedido.patchPedido);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _pedido.deletePedido);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGVkaWRvIiwicmVxdWlyZSIsIl9leHByZXNzIiwicm91dGVyIiwiUm91dGVyIiwiZ2V0IiwiZ2V0UGVkaWRvIiwiZ2V0UGVkaWRvVXNlckRhdGUiLCJnZXRQZWRpZG9Ob0FjZXB0YWRvIiwicG9zdCIsImNyZWF0ZVBlZGlkbyIsInBhdGNoIiwicGF0Y2hQZWRpZG8iLCJkZWxldGUiLCJkZWxldGVQZWRpZG8iLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxwZWRpZG9cXCIsInNvdXJjZXMiOlsicGVkaWRvLnJvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQZWRpZG8sIGRlbGV0ZVBlZGlkbywgZ2V0UGVkaWRvLCBnZXRQZWRpZG9Ob0FjZXB0YWRvLCBnZXRQZWRpZG9Vc2VyRGF0ZSwgcGF0Y2hQZWRpZG8gfSBmcm9tIFwiLi9wZWRpZG8uY29udHJvbGxlclwiO1xyXG5pbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gRW5kcG9pbnQgR0VUIC9wcnVlYmFcclxucm91dGVyLmdldCgnLycsIGdldFBlZGlkbyApO1xyXG5cclxucm91dGVyLmdldCgnL3VzdWFyaW9zJywgZ2V0UGVkaWRvVXNlckRhdGUgKTtcclxuXHJcbnJvdXRlci5nZXQoJy9lbnZpYWRvcycsIGdldFBlZGlkb05vQWNlcHRhZG8gKTtcclxuXHJcbi8vIEVuZHBvaW50IFBPU1QgL3BydWViYVxyXG5yb3V0ZXIucG9zdCgnLycsIGNyZWF0ZVBlZGlkbyApO1xyXG5cclxuLy8gRW5kcG9pbnQgUEFUQ0ggL3BydWViYVxyXG5yb3V0ZXIucGF0Y2goJy8nLCBwYXRjaFBlZGlkbyApO1xyXG5cclxuLy8gRW5kcG9pbnQgREVMRVRFIC9wcnVlYmFcclxucm91dGVyLmRlbGV0ZSgnLycsIGRlbGV0ZVBlZGlkbyApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsTUFBTUUsTUFBTSxHQUFHLElBQUFDLGVBQU0sR0FBRTs7QUFFdkI7QUFDQUQsTUFBTSxDQUFDRSxHQUFHLENBQUMsR0FBRyxFQUFFQyxpQkFBUyxDQUFFO0FBRTNCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVFLHlCQUFpQixDQUFFO0FBRTNDSixNQUFNLENBQUNFLEdBQUcsQ0FBQyxXQUFXLEVBQUVHLDJCQUFtQixDQUFFOztBQUU3QztBQUNBTCxNQUFNLENBQUNNLElBQUksQ0FBQyxHQUFHLEVBQUVDLG9CQUFZLENBQUU7O0FBRS9CO0FBQ0FQLE1BQU0sQ0FBQ1EsS0FBSyxDQUFDLEdBQUcsRUFBRUMsbUJBQVcsQ0FBRTs7QUFFL0I7QUFDQVQsTUFBTSxDQUFDVSxNQUFNLENBQUMsR0FBRyxFQUFFQyxvQkFBWSxDQUFFO0FBQUMsSUFBQUMsUUFBQSxHQUVuQlosTUFBTTtBQUFBYSxPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["_pedido","require","_express","router","Router","get","getPedido","getPedidoUserDate","getPedidoNoAceptado","post","createPedido","patch","patchPedido","delete","deletePedido","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\pedido\\","sources":["pedido.routes.js"],"sourcesContent":["import { createPedido, deletePedido, getPedido, getPedidoNoAceptado, getPedidoUserDate, patchPedido } from \"./pedido.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getPedido );\r\n\r\nrouter.get('/usuarios', getPedidoUserDate );\r\n\r\nrouter.get('/enviados', getPedidoNoAceptado );\r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createPedido );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchPedido );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deletePedido );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,MAAME,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,iBAAS,CAAE;AAE3BH,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEE,yBAAiB,CAAE;AAE3CJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,2BAAmB,CAAE;;AAE7C;AACAL,MAAM,CAACM,IAAI,CAAC,GAAG,EAAEC,oBAAY,CAAE;;AAE/B;AACAP,MAAM,CAACQ,KAAK,CAAC,GAAG,EAAEC,mBAAW,CAAE;;AAE/B;AACAT,MAAM,CAACU,MAAM,CAAC,GAAG,EAAEC,oBAAY,CAAE;AAAC,IAAAC,QAAA,GAEnBZ,MAAM;AAAAa,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682991689341},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\usuario.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUsuario = createUsuario;\nexports.deleteUsuario = deleteUsuario;\nexports.getUsuario = getUsuario;\nexports.patchUsuario = patchUsuario;\nvar _usuario = _interopRequireDefault(require(\"./usuario.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function getUsuario(req, res) {\n  const {\n    _id,\n    email,\n    password\n  } = req.query;\n  console.log(_id);\n  let usuarios = [];\n  try {\n    if (_id) {\n      usuarios = await _usuario.default.findOne({\n        _id,\n        isDeleted: false\n      });\n      //res.status(200).json(usuarios);\n    } else if (email && password) {\n      usuarios = await _usuario.default.findOne({\n        email,\n        password,\n        isDeleted: false\n      });\n      //res.status(200).json(usuarios);\n    }\n\n    res.status(200).json(usuarios);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function createUsuario(req, res) {\n  try {\n    const {\n      name,\n      email,\n      password,\n      direccion,\n      tipo,\n      cell\n    } = req.body;\n    const usuario = new _usuario.default({\n      name,\n      email,\n      password,\n      direccion,\n      tipo,\n      cell\n    });\n    const resultado = await usuario.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchUsuario(req, res) {\n  try {\n    // se busca por el id y los cambios que se enviarion al body\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _usuario.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function deleteUsuario(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await _usuario.default.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXN1YXJpbyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRVc3VhcmlvIiwicmVxIiwicmVzIiwiX2lkIiwiZW1haWwiLCJwYXNzd29yZCIsInF1ZXJ5IiwiY29uc29sZSIsImxvZyIsInVzdWFyaW9zIiwiVXN1YXJpbyIsImZpbmRPbmUiLCJpc0RlbGV0ZWQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY3JlYXRlVXN1YXJpbyIsIm5hbWUiLCJkaXJlY2Npb24iLCJ0aXBvIiwiY2VsbCIsImJvZHkiLCJ1c3VhcmlvIiwicmVzdWx0YWRvIiwic2F2ZSIsInBhdGNoVXN1YXJpbyIsInVwZGF0ZXMiLCJmaW5kT25lQW5kVXBkYXRlIiwibmV3IiwicnVuVmFsaWRhdG9ycyIsImRlbGV0ZVVzdWFyaW8iLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHVzdWFyaW9cXCIsInNvdXJjZXMiOlsidXN1YXJpby5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgVXN1YXJpbyBmcm9tICcuL3VzdWFyaW8ubW9kZWwnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzdWFyaW8ocmVxLHJlcykge1xyXG4gICBjb25zdCB7IF9pZCwgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEucXVlcnk7XHJcbiAgIGNvbnNvbGUubG9nKF9pZClcclxuICAgbGV0IHVzdWFyaW9zID0gW107XHJcbiAgdHJ5e1xyXG4gICAgaWYoX2lkKXtcclxuICAgICB1c3VhcmlvcyA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZSh7X2lkLCBpc0RlbGV0ZWQ6ZmFsc2V9KTtcclxuICAgIC8vcmVzLnN0YXR1cygyMDApLmpzb24odXN1YXJpb3MpO1xyXG4gIH1lbHNlIGlmKGVtYWlsJiZwYXNzd29yZCl7XHJcbiAgICAgdXN1YXJpb3MgPSBhd2FpdCBVc3VhcmlvLmZpbmRPbmUoe2VtYWlsLCBwYXNzd29yZCwgaXNEZWxldGVkOmZhbHNlfSk7XHJcbiAgICAvL3Jlcy5zdGF0dXMoMjAwKS5qc29uKHVzdWFyaW9zKTtcclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24odXN1YXJpb3MpO1xyXG4gIH1jYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXN1YXJpbyhyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgZGlyZWNjaW9uLCB0aXBvLCBjZWxsIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHVzdWFyaW8gPSBuZXcgVXN1YXJpbyh7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgZGlyZWNjaW9uLCB0aXBvLCBjZWxsIH0pO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgdXN1YXJpby5zYXZlKCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHRhZG8pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXRjaFVzdWFyaW8ocmVxLCByZXMpIHtcclxuICB0cnl7XHJcbiAgICAvLyBzZSBidXNjYSBwb3IgZWwgaWQgeSBsb3MgY2FtYmlvcyBxdWUgc2UgZW52aWFyaW9uIGFsIGJvZHlcclxuICAgIGNvbnN0IHsgX2lkLCAuLi51cGRhdGVzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZUFuZFVwZGF0ZSh7X2lkLCBpc0RlbGV0ZWQgOiBmYWxzZX0sdXBkYXRlcyAseyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWV9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdGFkbyk7XHJcbiAgfSBjYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9IFxyXG5cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzdWFyaW8ocmVxLCByZXMpIHtcclxuICB0cnl7XHJcbiAgICBjb25zdCBfaWQgPSByZXEucGFyYW1zLl9pZDtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUvQixlQUFlRyxVQUFVQSxDQUFDQyxHQUFHLEVBQUNDLEdBQUcsRUFBRTtFQUN2QyxNQUFNO0lBQUVDLEdBQUc7SUFBRUMsS0FBSztJQUFFQztFQUFTLENBQUMsR0FBR0osR0FBRyxDQUFDSyxLQUFLO0VBQzFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsR0FBRyxDQUFDO0VBQ2hCLElBQUlNLFFBQVEsR0FBRyxFQUFFO0VBQ2xCLElBQUc7SUFDRCxJQUFHTixHQUFHLEVBQUM7TUFDTk0sUUFBUSxHQUFHLE1BQU1DLGdCQUFPLENBQUNDLE9BQU8sQ0FBQztRQUFDUixHQUFHO1FBQUVTLFNBQVMsRUFBQztNQUFLLENBQUMsQ0FBQztNQUN6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","map":{"version":3,"names":["_usuario","_interopRequireDefault","require","obj","__esModule","default","getUsuario","req","res","_id","email","password","query","console","log","usuarios","Usuario","findOne","isDeleted","status","json","err","createUsuario","name","direccion","tipo","cell","body","usuario","resultado","save","patchUsuario","updates","findOneAndUpdate","new","runValidators","deleteUsuario","params"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\usuario\\","sources":["usuario.controller.js"],"sourcesContent":["\r\nimport Usuario from './usuario.model';\r\n\r\nexport async function getUsuario(req,res) {\r\n   const { _id, email, password } = req.query;\r\n   console.log(_id)\r\n   let usuarios = [];\r\n  try{\r\n    if(_id){\r\n     usuarios = await Usuario.findOne({_id, isDeleted:false});\r\n    //res.status(200).json(usuarios);\r\n  }else if(email&&password){\r\n     usuarios = await Usuario.findOne({email, password, isDeleted:false});\r\n    //res.status(200).json(usuarios);\r\n  }\r\n  res.status(200).json(usuarios);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n\r\n}\r\n\r\nexport async function createUsuario(req, res) {\r\n  try {\r\n    const { name, email, password, direccion, tipo, cell } = req.body;\r\n    const usuario = new Usuario({ name, email, password, direccion, tipo, cell });\r\n    const resultado = await usuario.save();\r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchUsuario(req, res) {\r\n  try{\r\n    // se busca por el id y los cambios que se enviarion al body\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Usuario.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n\r\n}\r\n\r\nexport async function deleteUsuario(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Usuario.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682659430373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\usuario.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst usuarioSchema = mongoose.Schema({\n  // campos\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  cell: {\n    type: Number,\n    required: true,\n    unique: true\n  },\n  direccion: {\n    type: String,\n    required: true\n  },\n  tipo: {\n    type: String,\n    required: true,\n    enum: [\"cliente\", \"administrador\", \"domiciliario\"]\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('usuario', usuarioSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ1c3VhcmlvU2NoZW1hIiwiU2NoZW1hIiwiZW1haWwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJuYW1lIiwicGFzc3dvcmQiLCJjZWxsIiwiTnVtYmVyIiwiZGlyZWNjaW9uIiwidGlwbyIsImVudW0iLCJpc0RlbGV0ZWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJfZGVmYXVsdCIsIm1vZGVsIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxKYWltZVxcRGVza3RvcFxcQmFja2VuZFxcUHJveWVjdG9fMVxcdXN1YXJpb1xcIiwic291cmNlcyI6WyJ1c3VhcmlvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHVzdWFyaW9TY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgLy8gY2FtcG9zXHJcbiAgICBlbWFpbDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZX0sXHJcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcGFzc3dvcmQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGNlbGw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6dHJ1ZX0sXHJcbiAgICBkaXJlY2Npb246IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHRpcG86IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBlbnVtOiBbXCJjbGllbnRlXCIsXCJhZG1pbmlzdHJhZG9yXCIsXCJkb21pY2lsaWFyaW9cIl19LFxyXG5cclxuICAgIGlzRGVsZXRlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCd1c3VhcmlvJywgdXN1YXJpb1NjaGVtYSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGFBQWEsR0FBR0YsUUFBUSxDQUFDRyxNQUFNLENBQ25DO0VBQ0U7RUFDQUMsS0FBSyxFQUFFO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUU7RUFBSSxDQUFDO0VBQ25EQyxJQUFJLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDckNHLFFBQVEsRUFBRTtJQUFDTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUksQ0FBQztFQUN4Q0ksSUFBSSxFQUFFO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFFTCxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUM7RUFBSSxDQUFDO0VBQ2pESyxTQUFTLEVBQUU7SUFBQ1IsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDekNPLElBQUksRUFBRTtJQUFDVCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFLElBQUk7SUFBRVEsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFDLGVBQWUsRUFBQyxjQUFjO0VBQUMsQ0FBQztFQUV0RkMsU0FBUyxFQUFFO0lBQUVYLElBQUksRUFBRVksT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTTtBQUM3QyxDQUFDLEVBQ0Q7RUFBRUMsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUNyQjtBQUFDLElBQUFDLFFBQUEsR0FFYXBCLFFBQVEsQ0FBQ3FCLEtBQUssQ0FBQyxTQUFTLEVBQUVuQixhQUFhLENBQUM7QUFBQW9CLE9BQUEsQ0FBQUosT0FBQSxHQUFBRSxRQUFBIn0=","map":{"version":3,"names":["mongoose","require","usuarioSchema","Schema","email","type","String","required","unique","name","password","cell","Number","direccion","tipo","enum","isDeleted","Boolean","default","timestamps","_default","model","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\usuario\\","sources":["usuario.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst usuarioSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    email: {type: String, required: true, unique: true},\r\n    name: { type: String, required: true},\r\n    password: {type: String, required: true},\r\n    cell: {type: Number, required: true, unique:true},\r\n    direccion: {type: String, required: true},\r\n    tipo: {type: String, required: true, enum: [\"cliente\",\"administrador\",\"domiciliario\"]},\r\n\r\n    isDeleted: { type: Boolean, default: false },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('usuario', usuarioSchema);\r\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,aAAa,GAAGF,QAAQ,CAACG,MAAM,CACnC;EACE;EACAC,KAAK,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAI,CAAC;EACnDC,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACrCG,QAAQ,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxCI,IAAI,EAAE;IAACN,IAAI,EAAEO,MAAM;IAAEL,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAC;EAAI,CAAC;EACjDK,SAAS,EAAE;IAACR,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACzCO,IAAI,EAAE;IAACT,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEQ,IAAI,EAAE,CAAC,SAAS,EAAC,eAAe,EAAC,cAAc;EAAC,CAAC;EAEtFC,SAAS,EAAE;IAAEX,IAAI,EAAEY,OAAO;IAAEC,OAAO,EAAE;EAAM;AAC7C,CAAC,EACD;EAAEC,UAAU,EAAE;AAAK,CAAC,CACrB;AAAC,IAAAC,QAAA,GAEapB,QAAQ,CAACqB,KAAK,CAAC,SAAS,EAAEnB,aAAa,CAAC;AAAAoB,OAAA,CAAAJ,OAAA,GAAAE,QAAA"}},"mtime":1682654900479},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\restaurante.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _restaurante = require(\"./restaurante.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _restaurante.getRestaurante);\nrouter.get('/nomcategoria', _restaurante.getRestauranteCatNom);\n\n// Endpoint POST /prueba\nrouter.post('/', _restaurante.createRestaurante);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _restaurante.patchRestaurante);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _restaurante.deleteRestaurante);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVzdGF1cmFudGUiLCJyZXF1aXJlIiwiX2V4cHJlc3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJnZXRSZXN0YXVyYW50ZSIsImdldFJlc3RhdXJhbnRlQ2F0Tm9tIiwicG9zdCIsImNyZWF0ZVJlc3RhdXJhbnRlIiwicGF0Y2giLCJwYXRjaFJlc3RhdXJhbnRlIiwiZGVsZXRlIiwiZGVsZXRlUmVzdGF1cmFudGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxyZXN0YXVyYW50ZVxcIiwic291cmNlcyI6WyJyZXN0YXVyYW50ZS5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUmVzdGF1cmFudGUsIGRlbGV0ZVJlc3RhdXJhbnRlLCBnZXRSZXN0YXVyYW50ZSwgZ2V0UmVzdGF1cmFudGVDYXROb20sIHBhdGNoUmVzdGF1cmFudGUgfSBmcm9tIFwiLi9yZXN0YXVyYW50ZS5jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyBFbmRwb2ludCBHRVQgL3BydWViYVxyXG5yb3V0ZXIuZ2V0KCcvJywgZ2V0UmVzdGF1cmFudGUgKTtcclxuXHJcbnJvdXRlci5nZXQoJy9ub21jYXRlZ29yaWEnLCBnZXRSZXN0YXVyYW50ZUNhdE5vbSApO1xyXG5cclxuLy8gRW5kcG9pbnQgUE9TVCAvcHJ1ZWJhXHJcbnJvdXRlci5wb3N0KCcvJywgY3JlYXRlUmVzdGF1cmFudGUgKTtcclxuXHJcbi8vIEVuZHBvaW50IFBBVENIIC9wcnVlYmFcclxucm91dGVyLnBhdGNoKCcvJywgcGF0Y2hSZXN0YXVyYW50ZSApO1xyXG5cclxuLy8gRW5kcG9pbnQgREVMRVRFIC9wcnVlYmFcclxucm91dGVyLmRlbGV0ZSgnLycsIGRlbGV0ZVJlc3RhdXJhbnRlICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxZQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxRQUFBLEdBQUFELE9BQUE7QUFDQSxNQUFNRSxNQUFNLEdBQUcsSUFBQUMsZUFBTSxHQUFFOztBQUV2QjtBQUNBRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxHQUFHLEVBQUVDLDJCQUFjLENBQUU7QUFFaENILE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGVBQWUsRUFBRUUsaUNBQW9CLENBQUU7O0FBRWxEO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLEdBQUcsRUFBRUMsOEJBQWlCLENBQUU7O0FBRXBDO0FBQ0FOLE1BQU0sQ0FBQ08sS0FBSyxDQUFDLEdBQUcsRUFBRUMsNkJBQWdCLENBQUU7O0FBRXBDO0FBQ0FSLE1BQU0sQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsRUFBRUMsOEJBQWlCLENBQUU7QUFBQyxJQUFBQyxRQUFBLEdBRXhCWCxNQUFNO0FBQUFZLE9BQUEsQ0FBQUMsT0FBQSxHQUFBRixRQUFBIn0=","map":{"version":3,"names":["_restaurante","require","_express","router","Router","get","getRestaurante","getRestauranteCatNom","post","createRestaurante","patch","patchRestaurante","delete","deleteRestaurante","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\restaurante\\","sources":["restaurante.routes.js"],"sourcesContent":["import { createRestaurante, deleteRestaurante, getRestaurante, getRestauranteCatNom, patchRestaurante } from \"./restaurante.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getRestaurante );\r\n\r\nrouter.get('/nomcategoria', getRestauranteCatNom );\r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createRestaurante );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchRestaurante );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deleteRestaurante );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,MAAME,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,2BAAc,CAAE;AAEhCH,MAAM,CAACE,GAAG,CAAC,eAAe,EAAEE,iCAAoB,CAAE;;AAElD;AACAJ,MAAM,CAACK,IAAI,CAAC,GAAG,EAAEC,8BAAiB,CAAE;;AAEpC;AACAN,MAAM,CAACO,KAAK,CAAC,GAAG,EAAEC,6BAAgB,CAAE;;AAEpC;AACAR,MAAM,CAACS,MAAM,CAAC,GAAG,EAAEC,8BAAiB,CAAE;AAAC,IAAAC,QAAA,GAExBX,MAAM;AAAAY,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682991719439},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\pedido.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPedido = createPedido;\nexports.deletePedido = deletePedido;\nexports.getPedido = getPedido;\nexports.getPedidoNoAceptado = getPedidoNoAceptado;\nexports.getPedidoUserDate = getPedidoUserDate;\nexports.patchPedido = patchPedido;\nvar _pedido = _interopRequireDefault(require(\"./pedido.model\"));\nvar _restaurante = _interopRequireDefault(require(\"../restaurante/restaurante.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function getPedido(req, res) {\n  try {\n    // se recibe un id y se usa en la funcion findOne\n    const {\n      _id\n    } = req.query;\n    const pedido = await _pedido.default.findOne({\n      _id,\n      isDeleted: false\n    });\n    res.status(200).json(pedido);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getPedidoNoAceptado(req, res) {\n  try {\n    // se envian los pedidos en estado enviado\n    const pedido = await _pedido.default.find({\n      estado: \"enviado\",\n      isDeleted: false\n    });\n    res.status(200).json(pedido);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getPedidoUserDate(req, res) {\n  try {\n    const {\n      domiciliario,\n      cliente,\n      restaurante,\n      fechaInicial,\n      fechaFinal\n    } = req.query;\n    let query = {\n      isDeleted: false\n    }; // se crea un objeto query donde estaran los filtos \n\n    // solo se agreaga un key al objeto si este se encuentra en el query de express\n    if (domiciliario) {\n      query.domiciliario = domiciliario;\n    }\n    if (cliente) {\n      query.cliente = cliente;\n    }\n    if (restaurante) {\n      query.restaurante = restaurante;\n    }\n    if (fechaInicial && fechaFinal) {\n      query.createdAt = {\n        $gte: new Date(fechaInicial),\n        $lte: new Date(fechaFinal)\n      };\n    }\n    let pedidos = [];\n\n    // solo hara el find() si el query contiene algo para evitar que se envien todos los pedidos hechos \n    if (Object.keys(req.query).length > 0) {\n      pedidos = await _pedido.default.find(query);\n    }\n    res.status(200).json(pedidos);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function createPedido(req, res) {\n  try {\n    const {\n      restaurante,\n      domiciliario,\n      cliente,\n      productos,\n      cantidad,\n      precio\n    } = req.body;\n    const pedido = new _pedido.default({\n      restaurante,\n      domiciliario,\n      cliente,\n      productos,\n      cantidad,\n      precio\n    });\n    const resultado = await pedido.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchPedido(req, res) {\n  try {\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _pedido.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n\n    // se suma 1 al valor de numPedidos en el restaurante que se realizo el pedido\n    if (updates.estado == \"realizado\") {\n      const tempRes = await _restaurante.default.findOne(resultado.restaurante);\n      let resCont = tempRes.numPedidos;\n      resCont = resCont + 1;\n      let cambio = {};\n      cambio.numPedidos = resCont;\n      const restauranteNew = await _restaurante.default.findOneAndUpdate(resultado.restaurante, cambio, {\n        new: true,\n        runValidators: true\n      });\n      console.log(restauranteNew);\n    }\n    res.status(200).json(resultado);\n  } catch (err) {\n    console.log(err);\n    res.status(500).json(err);\n  }\n}\nasync function deletePedido(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await _pedido.default.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGVkaWRvIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzdGF1cmFudGUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImdldFBlZGlkbyIsInJlcSIsInJlcyIsIl9pZCIsInF1ZXJ5IiwicGVkaWRvIiwiUGVkaWRvIiwiZmluZE9uZSIsImlzRGVsZXRlZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJnZXRQZWRpZG9Ob0FjZXB0YWRvIiwiZmluZCIsImVzdGFkbyIsImdldFBlZGlkb1VzZXJEYXRlIiwiZG9taWNpbGlhcmlvIiwiY2xpZW50ZSIsInJlc3RhdXJhbnRlIiwiZmVjaGFJbmljaWFsIiwiZmVjaGFGaW5hbCIsImNyZWF0ZWRBdCIsIiRndGUiLCJEYXRlIiwiJGx0ZSIsInBlZGlkb3MiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiY3JlYXRlUGVkaWRvIiwicHJvZHVjdG9zIiwiY2FudGlkYWQiLCJwcmVjaW8iLCJib2R5IiwicmVzdWx0YWRvIiwic2F2ZSIsInBhdGNoUGVkaWRvIiwidXBkYXRlcyIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJydW5WYWxpZGF0b3JzIiwidGVtcFJlcyIsIlJlc3RhdXJhbnRlIiwicmVzQ29udCIsIm51bVBlZGlkb3MiLCJjYW1iaW8iLCJyZXN0YXVyYW50ZU5ldyIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVQZWRpZG8iLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHBlZGlkb1xcIiwic291cmNlcyI6WyJwZWRpZG8uY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFBlZGlkbyBmcm9tICcuL3BlZGlkby5tb2RlbCc7XHJcbmltcG9ydCBSZXN0YXVyYW50ZSBmcm9tICcuLi9yZXN0YXVyYW50ZS9yZXN0YXVyYW50ZS5tb2RlbCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVkaWRvKHJlcSxyZXMpIHtcclxuICB0cnl7IFxyXG4gICAgLy8gc2UgcmVjaWJlIHVuIGlkIHkgc2UgdXNhIGVuIGxhIGZ1bmNpb24gZmluZE9uZVxyXG4gICAgY29uc3QgeyBfaWQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHBlZGlkbyA9IGF3YWl0IFBlZGlkby5maW5kT25lKHtfaWQsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocGVkaWRvKTtcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVkaWRvTm9BY2VwdGFkbyhyZXEscmVzKSB7XHJcbiAgdHJ5eyBcclxuICAgIC8vIHNlIGVudmlhbiBsb3MgcGVkaWRvcyBlbiBlc3RhZG8gZW52aWFkb1xyXG4gICAgY29uc3QgcGVkaWRvID0gYXdhaXQgUGVkaWRvLmZpbmQoe2VzdGFkbzogXCJlbnZpYWRvXCIsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocGVkaWRvKTtcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVkaWRvVXNlckRhdGUocmVxLHJlcykge1xyXG4gIHRyeXsgXHJcbiAgICBjb25zdCB7IGRvbWljaWxpYXJpbywgY2xpZW50ZSwgcmVzdGF1cmFudGUsIGZlY2hhSW5pY2lhbCwgZmVjaGFGaW5hbCB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgIGxldCBxdWVyeT0ge2lzRGVsZXRlZDogZmFsc2V9OyAvLyBzZSBjcmVhIHVuIG9iamV0byBxdWVyeSBkb25kZSBlc3RhcmFuIGxvcyBmaWx0b3MgXHJcblxyXG4gICAgLy8gc29sbyBzZSBhZ3JlYWdhIHVuIGtleSBhbCBvYmpldG8gc2kgZXN0ZSBzZSBlbmN1ZW50cmEgZW4gZWwgcXVlcnkgZGUgZXhwcmVzc1xyXG4gICAgaWYoZG9taWNpbGlhcmlvKXtcclxuICAgICAgcXVlcnkuZG9taWNpbGlhcmlvPSBkb21pY2lsaWFyaW87XHJcbiAgICB9XHJcbiAgICBpZihjbGllbnRlKXtcclxuICAgICAgcXVlcnkuY2xpZW50ZSA9IGNsaWVudGU7XHJcbiAgICB9XHJcbiAgICBpZihyZXN0YXVyYW50ZSl7XHJcbiAgICAgIHF1ZXJ5LnJlc3RhdXJhbnRlID0gcmVzdGF1cmFudGU7XHJcbiAgICB9XHJcbiAgICBpZiAoZmVjaGFJbmljaWFsICYmIGZlY2hhRmluYWwpe1xyXG4gICAgICBxdWVyeS5jcmVhdGVkQXQgPSB7JGd0ZTogbmV3IERhdGUoZmVjaGFJbmljaWFsKSwgJGx0ZTpuZXcgRGF0ZShmZWNoYUZpbmFsKX07XHJcbiAgICB9ICBcclxuICAgIGxldCBwZWRpZG9zID0gW107XHJcblxyXG4gICAgLy8gc29sbyBoYXJhIGVsIGZpbmQoKSBzaSBlbCBxdWVyeSBjb250aWVuZSBhbGdvIHBhcmEgZXZpdGFyIHF1ZSBzZSBlbnZpZW4gdG9kb3MgbG9zIHBlZGlkb3MgaGVjaG9zIFxyXG4gICAgaWYgKE9iamVjdC5rZXlzKHJlcS5xdWVyeSkubGVuZ3RoID4gMCkge1xyXG4gICAgICBwZWRpZG9zID0gYXdhaXQgUGVkaWRvLmZpbmQocXVlcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHBlZGlkb3MpO1xyXG4gIH1jYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVQZWRpZG8ocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyByZXN0YXVyYW50ZSwgZG9taWNpbGlhcmlvLCBjbGllbnRlLCBwcm9kdWN0b3MsIGNhbnRpZGFkLCBwcmVjaW99ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCBwZWRpZG8gPSBuZXcgUGVkaWRvKHsgcmVzdGF1cmFudGUsIGRvbWljaWxpYXJpbywgY2xpZW50ZSwgcHJvZHVjdG9zLCBjYW50aWRhZCwgcHJlY2lvIH0pO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgcGVkaWRvLnNhdmUoKTsgXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHRhZG8pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXRjaFBlZGlkbyhyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IHsgX2lkLCAuLi51cGRhdGVzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFBlZGlkby5maW5kT25lQW5kVXBkYXRlKHtfaWQsIGlzRGVsZXRlZCA6IGZhbHNlfSx1cGRhdGVzICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgXHJcbiAgICAvLyBzZSBzdW1hIDEgYWwgdmFsb3IgZGUgbnVtUGVkaWRvcyBlbiBlbCByZXN0YXVyYW50ZSBxdWUgc2UgcmVhbGl6byBlbCBwZWRpZG9cclxuICAgIGlmKHVwZGF0ZXMuZXN0YWRvPT1cInJlYWxpemFkb1wiKXtcclxuICAgICAgY29uc3QgdGVtcFJlcyA9IGF3YWl0IFJlc3RhdXJhbnRlLmZpbmRPbmUocmVzdWx0YWRvLnJlc3RhdXJhbnRlIClcclxuICAgICAgbGV0IHJlc0NvbnQgPSB0ZW1wUmVzLm51bVBlZGlkb3M7XHJcbiAgICAgIHJlc0NvbnQ9cmVzQ29udCsxO1xyXG4gICAgICBsZXQgY2FtYmlvPXt9O1xyXG4gICAgICBjYW1iaW8ubnVtUGVkaWRvcyA9IHJlc0NvbnQ7XHJcbiAgICAgIGNvbnN0IHJlc3RhdXJhbnRlTmV3ID0gYXdhaXQgUmVzdGF1cmFudGUuZmluZE9uZUFuZFVwZGF0ZShyZXN1bHRhZG8ucmVzdGF1cmFudGUgLCBjYW1iaW8seyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWV9KTtcclxuICAgICAgY29uc29sZS5sb2cocmVzdGF1cmFudGVOZXcpO1xyXG4gICAgfVxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9IFxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGVkaWRvKHJlcSwgcmVzKSB7XHJcbiAgdHJ5e1xyXG4gICAgY29uc3QgX2lkID0gcmVxLnBhcmFtcy5faWQ7XHJcbiAgICBjb25zdCByZXN1bHRhZG8gPSBhd2FpdCBQZWRpZG8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQTJELFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXBELGVBQWVHLFNBQVNBLENBQUNDLEdBQUcsRUFBQ0MsR0FBRyxFQUFFO0VBQ3ZDLElBQUc7SUFDRDtJQUNBLE1BQU07TUFBRUM7SUFBSSxDQUFDLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSztJQUN6QixNQUFNQyxNQUFNLEdB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","map":{"version":3,"names":["_pedido","_interopRequireDefault","require","_restaurante","obj","__esModule","default","getPedido","req","res","_id","query","pedido","Pedido","findOne","isDeleted","status","json","err","getPedidoNoAceptado","find","estado","getPedidoUserDate","domiciliario","cliente","restaurante","fechaInicial","fechaFinal","createdAt","$gte","Date","$lte","pedidos","Object","keys","length","createPedido","productos","cantidad","precio","body","resultado","save","patchPedido","updates","findOneAndUpdate","new","runValidators","tempRes","Restaurante","resCont","numPedidos","cambio","restauranteNew","console","log","deletePedido","params"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\pedido\\","sources":["pedido.controller.js"],"sourcesContent":["\r\nimport Pedido from './pedido.model';\r\nimport Restaurante from '../restaurante/restaurante.model';\r\n\r\nexport async function getPedido(req,res) {\r\n  try{ \r\n    // se recibe un id y se usa en la funcion findOne\r\n    const { _id } = req.query;\r\n    const pedido = await Pedido.findOne({_id, isDeleted:false});\r\n    res.status(200).json(pedido);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getPedidoNoAceptado(req,res) {\r\n  try{ \r\n    // se envian los pedidos en estado enviado\r\n    const pedido = await Pedido.find({estado: \"enviado\", isDeleted:false});\r\n    res.status(200).json(pedido);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getPedidoUserDate(req,res) {\r\n  try{ \r\n    const { domiciliario, cliente, restaurante, fechaInicial, fechaFinal } = req.query;\r\n\r\n    let query= {isDeleted: false}; // se crea un objeto query donde estaran los filtos \r\n\r\n    // solo se agreaga un key al objeto si este se encuentra en el query de express\r\n    if(domiciliario){\r\n      query.domiciliario= domiciliario;\r\n    }\r\n    if(cliente){\r\n      query.cliente = cliente;\r\n    }\r\n    if(restaurante){\r\n      query.restaurante = restaurante;\r\n    }\r\n    if (fechaInicial && fechaFinal){\r\n      query.createdAt = {$gte: new Date(fechaInicial), $lte:new Date(fechaFinal)};\r\n    }  \r\n    let pedidos = [];\r\n\r\n    // solo hara el find() si el query contiene algo para evitar que se envien todos los pedidos hechos \r\n    if (Object.keys(req.query).length > 0) {\r\n      pedidos = await Pedido.find(query);\r\n    }\r\n\r\n    res.status(200).json(pedidos);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function createPedido(req, res) {\r\n  try {\r\n    const { restaurante, domiciliario, cliente, productos, cantidad, precio} = req.body;\r\n    const pedido = new Pedido({ restaurante, domiciliario, cliente, productos, cantidad, precio });\r\n    const resultado = await pedido.save(); \r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchPedido(req, res) {\r\n  try{\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Pedido.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    \r\n    // se suma 1 al valor de numPedidos en el restaurante que se realizo el pedido\r\n    if(updates.estado==\"realizado\"){\r\n      const tempRes = await Restaurante.findOne(resultado.restaurante )\r\n      let resCont = tempRes.numPedidos;\r\n      resCont=resCont+1;\r\n      let cambio={};\r\n      cambio.numPedidos = resCont;\r\n      const restauranteNew = await Restaurante.findOneAndUpdate(resultado.restaurante , cambio,{ new: true, runValidators: true});\r\n      console.log(restauranteNew);\r\n    }\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n      console.log(err)\r\n      res.status(500).json(err);\r\n  } \r\n}\r\n\r\nexport async function deletePedido(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Pedido.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682994619860},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\pedido\\\\pedido.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst pedidoSchema = mongoose.Schema({\n  // campos\n  restaurante: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"restaurante\",\n    required: true,\n    immutable: true,\n    validate: {\n      validator: async function (id) {\n        const restaurante = await mongoose.model(\"restaurante\").findOne({\n          _id: id\n        });\n        if (restaurante == null || restaurante.isDeleted == true) {\n          throw new Error('No se encontro el restaurante');\n        }\n      }\n    }\n  },\n  domiciliario: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"usuario\",\n    required: false,\n    validate: {\n      validator: async function (id) {\n        const user = await mongoose.model(\"usuario\").findOne({\n          _id: id\n        });\n        if (user == null || user.tipo != \"domiciliario\" || user.isDeleted == true) {\n          throw new Error('No se encontro el domiciliario');\n        }\n      }\n    }\n  },\n  cliente: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"usuario\",\n    required: true,\n    immutable: true,\n    validate: {\n      validator: async function (id) {\n        const user = await mongoose.model(\"usuario\").findOne({\n          _id: id\n        });\n        if (user == null || user.tipo != \"cliente\" || user.isDeleted == true) {\n          throw new Error('No se encontro el cliente');\n        }\n      }\n    }\n  },\n  productos: [{\n    producto: {\n      type: mongoose.Schema.Types.ObjectId,\n      ref: \"producto\",\n      required: true,\n      immutable: true,\n      validate: {\n        validator: async function (id) {\n          const producto = await mongoose.model(\"producto\").findOne({\n            _id: id\n          });\n          if (producto == null || producto.isDeleted == true) {\n            throw new Error('No se encontro el producto');\n          }\n        }\n      }\n    },\n    cantidad: {\n      type: Number,\n      required: true\n    }\n  }],\n  distanciaRest: {\n    type: Number\n  },\n  distanciaUser: {\n    type: Number\n  },\n  precio: {\n    type: Number,\n    required: true,\n    immutable: true\n  },\n  estado: {\n    type: String,\n    required: true,\n    default: \"enviado\",\n    enum: [\"creado\", \"enviado\", \"aceptado\", \"recibido\", \"en direccion\", \"realizado\"]\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('pedido', pedidoSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwZWRpZG9TY2hlbWEiLCJTY2hlbWEiLCJyZXN0YXVyYW50ZSIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbW11dGFibGUiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsImlkIiwibW9kZWwiLCJmaW5kT25lIiwiX2lkIiwiaXNEZWxldGVkIiwiRXJyb3IiLCJkb21pY2lsaWFyaW8iLCJ1c2VyIiwidGlwbyIsImNsaWVudGUiLCJwcm9kdWN0b3MiLCJwcm9kdWN0byIsImNhbnRpZGFkIiwiTnVtYmVyIiwiZGlzdGFuY2lhUmVzdCIsImRpc3RhbmNpYVVzZXIiLCJwcmVjaW8iLCJlc3RhZG8iLCJTdHJpbmciLCJkZWZhdWx0IiwiZW51bSIsIkJvb2xlYW4iLCJ0aW1lc3RhbXBzIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxwZWRpZG9cXCIsInNvdXJjZXMiOlsicGVkaWRvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHBlZGlkb1NjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYShcclxuICB7XHJcbiAgICAvLyBjYW1wb3NcclxuICAgIHJlc3RhdXJhbnRlOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiBcInJlc3RhdXJhbnRlXCIsIHJlcXVpcmVkOiB0cnVlICxpbW11dGFibGU6IHRydWUsIHZhbGlkYXRlOiB7dmFsaWRhdG9yOiBhc3luYyBmdW5jdGlvbiAoaWQpe1xyXG4gICAgICBjb25zdCByZXN0YXVyYW50ZSA9IGF3YWl0IG1vbmdvb3NlLm1vZGVsKFwicmVzdGF1cmFudGVcIikuZmluZE9uZSh7X2lkOmlkfSk7XHJcbiAgICAgIGlmKHJlc3RhdXJhbnRlPT1udWxsIHx8IHJlc3RhdXJhbnRlLmlzRGVsZXRlZCA9PXRydWUpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgZW5jb250cm8gZWwgcmVzdGF1cmFudGUnKTtcclxuICAgICAgfVxyXG4gICAgfX19LFxyXG4gICAgZG9taWNpbGlhcmlvOiB7dHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLCByZWY6IFwidXN1YXJpb1wiLCByZXF1aXJlZDogZmFsc2UsIHZhbGlkYXRlOiB7dmFsaWRhdG9yOiBhc3luYyBmdW5jdGlvbiAoaWQpe1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJ1c3VhcmlvXCIpLmZpbmRPbmUoe19pZDppZH0pO1xyXG4gICAgICBpZih1c2VyPT1udWxsIHx8IHVzZXIudGlwbyE9XCJkb21pY2lsaWFyaW9cInx8IHVzZXIuaXNEZWxldGVkID09dHJ1ZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBlbmNvbnRybyBlbCBkb21pY2lsaWFyaW8nKTtcclxuICAgICAgfVxyXG4gICAgfX19LFxyXG4gICAgY2xpZW50ZTogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJ1c3VhcmlvXCIsIHJlcXVpcmVkOiB0cnVlLCBpbW11dGFibGU6IHRydWUsIHZhbGlkYXRlOiB7dmFsaWRhdG9yOiBhc3luYyBmdW5jdGlvbiAoaWQpe1xyXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJ1c3VhcmlvXCIpLmZpbmRPbmUoe19pZDppZH0pO1xyXG4gICAgICBpZih1c2VyPT1udWxsIHx8IHVzZXIudGlwbyE9XCJjbGllbnRlXCJ8fCB1c2VyLmlzRGVsZXRlZCA9PXRydWUpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc2UgZW5jb250cm8gZWwgY2xpZW50ZScpO1xyXG4gICAgICB9XHJcbiAgICB9LCB9fSxcclxuICAgIHByb2R1Y3RvczogW3sgcHJvZHVjdG86e3R5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOlwicHJvZHVjdG9cIiwgcmVxdWlyZWQ6IHRydWUsIGltbXV0YWJsZTogdHJ1ZSwgdmFsaWRhdGU6IHt2YWxpZGF0b3I6IGFzeW5jIGZ1bmN0aW9uIChpZCl7XHJcbiAgICAgIGNvbnN0IHByb2R1Y3RvID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJwcm9kdWN0b1wiKS5maW5kT25lKHtfaWQ6aWR9KTtcclxuICAgICAgaWYocHJvZHVjdG89PW51bGwgfHwgcHJvZHVjdG8uaXNEZWxldGVkID09dHJ1ZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBlbmNvbnRybyBlbCBwcm9kdWN0bycpO1xyXG4gICAgICB9XHJcbiAgICB9fX0sXHJcbiAgICBjYW50aWRhZDp7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWV9fVxyXG4gICAgXSxcclxuICAgIGRpc3RhbmNpYVJlc3Q6e3R5cGU6TnVtYmVyfSxcclxuICAgIGRpc3RhbmNpYVVzZXI6e3R5cGU6TnVtYmVyfSxcclxuICAgIHByZWNpbzogeyB0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGltbXV0YWJsZTogdHJ1ZSB9LFxyXG4gICAgZXN0YWRvOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIGRlZmF1bHQ6XCJlbnZpYWRvXCIsIGVudW06IFtcImNyZWFkb1wiLFwiZW52aWFkb1wiLFwiYWNlcHRhZG9cIixcInJlY2liaWRvXCIsIFwiZW4gZGlyZWNjaW9uXCIsIFwicmVhbGl6YWRvXCJdfSxcclxuICAgIGlzRGVsZXRlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCdwZWRpZG8nLCBwZWRpZG9TY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7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","map":{"version":3,"names":["mongoose","require","pedidoSchema","Schema","restaurante","type","Types","ObjectId","ref","required","immutable","validate","validator","id","model","findOne","_id","isDeleted","Error","domiciliario","user","tipo","cliente","productos","producto","cantidad","Number","distanciaRest","distanciaUser","precio","estado","String","default","enum","Boolean","timestamps","_default","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\pedido\\","sources":["pedido.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst pedidoSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    restaurante: { type: mongoose.Schema.Types.ObjectId, ref: \"restaurante\", required: true ,immutable: true, validate: {validator: async function (id){\r\n      const restaurante = await mongoose.model(\"restaurante\").findOne({_id:id});\r\n      if(restaurante==null || restaurante.isDeleted ==true){\r\n        throw new Error('No se encontro el restaurante');\r\n      }\r\n    }}},\r\n    domiciliario: {type: mongoose.Schema.Types.ObjectId, ref: \"usuario\", required: false, validate: {validator: async function (id){\r\n      const user = await mongoose.model(\"usuario\").findOne({_id:id});\r\n      if(user==null || user.tipo!=\"domiciliario\"|| user.isDeleted ==true){\r\n        throw new Error('No se encontro el domiciliario');\r\n      }\r\n    }}},\r\n    cliente: { type: mongoose.Schema.Types.ObjectId, ref: \"usuario\", required: true, immutable: true, validate: {validator: async function (id){\r\n      const user = await mongoose.model(\"usuario\").findOne({_id:id});\r\n      if(user==null || user.tipo!=\"cliente\"|| user.isDeleted ==true){\r\n        throw new Error('No se encontro el cliente');\r\n      }\r\n    }, }},\r\n    productos: [{ producto:{type: mongoose.Schema.Types.ObjectId, ref:\"producto\", required: true, immutable: true, validate: {validator: async function (id){\r\n      const producto = await mongoose.model(\"producto\").findOne({_id:id});\r\n      if(producto==null || producto.isDeleted ==true){\r\n        throw new Error('No se encontro el producto');\r\n      }\r\n    }}},\r\n    cantidad:{type:Number, required:true}}\r\n    ],\r\n    distanciaRest:{type:Number},\r\n    distanciaUser:{type:Number},\r\n    precio: { type: Number, required:true, immutable: true },\r\n    estado: { type: String, required: true, default:\"enviado\", enum: [\"creado\",\"enviado\",\"aceptado\",\"recibido\", \"en direccion\", \"realizado\"]},\r\n    isDeleted: { type: Boolean, default: false },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('pedido', pedidoSchema);\r\n"],"mappings":"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"}},"mtime":1682659430373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\usuario.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _usuario = require(\"./usuario.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _usuario.getUsuario);\n\n// Endpoint POST /prueba\nrouter.post('/', _usuario.createUsuario);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _usuario.patchUsuario);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _usuario.deleteUsuario);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXN1YXJpbyIsInJlcXVpcmUiLCJfZXhwcmVzcyIsInJvdXRlciIsIlJvdXRlciIsImdldCIsImdldFVzdWFyaW8iLCJwb3N0IiwiY3JlYXRlVXN1YXJpbyIsInBhdGNoIiwicGF0Y2hVc3VhcmlvIiwiZGVsZXRlIiwiZGVsZXRlVXN1YXJpbyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHVzdWFyaW9cXCIsInNvdXJjZXMiOlsidXN1YXJpby5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlVXN1YXJpbywgZGVsZXRlVXN1YXJpbywgZ2V0VXN1YXJpbywgcGF0Y2hVc3VhcmlvIH0gZnJvbSBcIi4vdXN1YXJpby5jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyBFbmRwb2ludCBHRVQgL3BydWViYVxyXG5yb3V0ZXIuZ2V0KCcvJywgZ2V0VXN1YXJpbyk7XHJcblxyXG4vLyBFbmRwb2ludCBQT1NUIC9wcnVlYmFcclxucm91dGVyLnBvc3QoJy8nLCBjcmVhdGVVc3VhcmlvICk7XHJcblxyXG4vLyBFbmRwb2ludCBQQVRDSCAvcHJ1ZWJhXHJcbnJvdXRlci5wYXRjaCgnLycsIHBhdGNoVXN1YXJpbyApO1xyXG5cclxuLy8gRW5kcG9pbnQgREVMRVRFIC9wcnVlYmFcclxucm91dGVyLmRlbGV0ZSgnLycsIGRlbGV0ZVVzdWFyaW8gKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFFBQUEsR0FBQUQsT0FBQTtBQUNBLE1BQU1FLE1BQU0sR0FBRyxJQUFBQyxlQUFNLEdBQUU7O0FBRXZCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMsbUJBQVUsQ0FBQzs7QUFFM0I7QUFDQUgsTUFBTSxDQUFDSSxJQUFJLENBQUMsR0FBRyxFQUFFQyxzQkFBYSxDQUFFOztBQUVoQztBQUNBTCxNQUFNLENBQUNNLEtBQUssQ0FBQyxHQUFHLEVBQUVDLHFCQUFZLENBQUU7O0FBRWhDO0FBQ0FQLE1BQU0sQ0FBQ1EsTUFBTSxDQUFDLEdBQUcsRUFBRUMsc0JBQWEsQ0FBRTtBQUFDLElBQUFDLFFBQUEsR0FFcEJWLE1BQU07QUFBQVcsT0FBQSxDQUFBQyxPQUFBLEdBQUFGLFFBQUEifQ==","map":{"version":3,"names":["_usuario","require","_express","router","Router","get","getUsuario","post","createUsuario","patch","patchUsuario","delete","deleteUsuario","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\usuario\\","sources":["usuario.routes.js"],"sourcesContent":["import { createUsuario, deleteUsuario, getUsuario, patchUsuario } from \"./usuario.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getUsuario);\r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createUsuario );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchUsuario );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deleteUsuario );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,MAAME,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,mBAAU,CAAC;;AAE3B;AACAH,MAAM,CAACI,IAAI,CAAC,GAAG,EAAEC,sBAAa,CAAE;;AAEhC;AACAL,MAAM,CAACM,KAAK,CAAC,GAAG,EAAEC,qBAAY,CAAE;;AAEhC;AACAP,MAAM,CAACQ,MAAM,CAAC,GAAG,EAAEC,sBAAa,CAAE;AAAC,IAAAC,QAAA,GAEpBV,MAAM;AAAAW,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682640522019},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\restaurante.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createRestaurante = createRestaurante;\nexports.deleteRestaurante = deleteRestaurante;\nexports.getRestaurante = getRestaurante;\nexports.getRestauranteCatNom = getRestauranteCatNom;\nexports.patchRestaurante = patchRestaurante;\nvar _restaurante = _interopRequireDefault(require(\"./restaurante.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst stringSimilarity = require('string-similarity');\nasync function getRestaurante(req, res) {\n  try {\n    const {\n      _id\n    } = req.query;\n    const restaurante = await _restaurante.default.find({\n      _id,\n      isDeleted: false\n    });\n    res.status(200).json(restaurante);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getRestauranteCatNom(req, res) {\n  const {\n    categoria,\n    name\n  } = req.query;\n  try {\n    let filteredRestaurants = [];\n    if (categoria && name) {\n      // Encontrar restaurantes por ambos filtro y nombre \n      filteredRestaurants = await _restaurante.default.find({\n        categoria: categoria,\n        $or: [{\n          name: {\n            $regex: name,\n            $options: 'i'\n          }\n        }, {\n          name: {\n            $regex: new RegExp(stringSimilarity.findBestMatch(name, await _restaurante.default.find().distinct('name')).bestMatch.target, 'i')\n          }\n        }]\n      }).sort({\n        numPedidos: -1\n      });\n    } else if (categoria) {\n      // Encontrar restaurantes por categoria solamente\n      filteredRestaurants = await _restaurante.default.find({\n        categoria: categoria\n      }).sort({\n        numPedidos: -1\n      });\n    } else if (name) {\n      // Encontrar restaurantes solo por nombre \n      filteredRestaurants = await _restaurante.default.find({\n        $or: [{\n          name: {\n            $regex: name,\n            $options: 'i'\n          }\n        }, {\n          name: {\n            $regex: new RegExp(stringSimilarity.findBestMatch(name, await _restaurante.default.find().distinct('name')).bestMatch.target, 'i')\n          }\n        }]\n      }).sort({\n        numPedidos: -1\n      });\n    }\n    res.status(200).json(filteredRestaurants);\n  } catch (err) {\n    console.error(err);\n    res.status(500).json(err);\n  }\n}\nasync function createRestaurante(req, res) {\n  try {\n    const {\n      name,\n      categoria,\n      direccion\n    } = req.body;\n    const restaurante = new _restaurante.default({\n      name,\n      categoria,\n      direccion\n    });\n    const resultado = await restaurante.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchRestaurante(req, res) {\n  try {\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _restaurante.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function deleteRestaurante(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await Producto.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVzdGF1cmFudGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RyaW5nU2ltaWxhcml0eSIsImdldFJlc3RhdXJhbnRlIiwicmVxIiwicmVzIiwiX2lkIiwicXVlcnkiLCJyZXN0YXVyYW50ZSIsIlJlc3RhdXJhbnRlIiwiZmluZCIsImlzRGVsZXRlZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJnZXRSZXN0YXVyYW50ZUNhdE5vbSIsImNhdGVnb3JpYSIsIm5hbWUiLCJmaWx0ZXJlZFJlc3RhdXJhbnRzIiwiJG9yIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJSZWdFeHAiLCJmaW5kQmVzdE1hdGNoIiwiZGlzdGluY3QiLCJiZXN0TWF0Y2giLCJ0YXJnZXQiLCJzb3J0IiwibnVtUGVkaWRvcyIsImNvbnNvbGUiLCJlcnJvciIsImNyZWF0ZVJlc3RhdXJhbnRlIiwiZGlyZWNjaW9uIiwiYm9keSIsInJlc3VsdGFkbyIsInNhdmUiLCJwYXRjaFJlc3RhdXJhbnRlIiwidXBkYXRlcyIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJydW5WYWxpZGF0b3JzIiwiZGVsZXRlUmVzdGF1cmFudGUiLCJwYXJhbXMiLCJQcm9kdWN0byJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxKYWltZVxcRGVza3RvcFxcQmFja2VuZFxcUHJveWVjdG9fMVxccmVzdGF1cmFudGVcXCIsInNvdXJjZXMiOlsicmVzdGF1cmFudGUuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFJlc3RhdXJhbnRlIGZyb20gJy4vcmVzdGF1cmFudGUubW9kZWwnO1xyXG5jb25zdCBzdHJpbmdTaW1pbGFyaXR5ID0gcmVxdWlyZSgnc3RyaW5nLXNpbWlsYXJpdHknKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXN0YXVyYW50ZShyZXEscmVzKSB7XHJcbiAgdHJ5eyBcclxuICAgIGNvbnN0IHsgX2lkIH0gPSByZXEucXVlcnk7XHJcbiAgICBjb25zdCByZXN0YXVyYW50ZSA9IGF3YWl0IFJlc3RhdXJhbnRlLmZpbmQoe19pZCwgaXNEZWxldGVkOmZhbHNlfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN0YXVyYW50ZSk7XHJcbiAgfWNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlc3RhdXJhbnRlQ2F0Tm9tKHJlcSxyZXMpIHtcclxuICBjb25zdCB7IGNhdGVnb3JpYSwgbmFtZSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICB0cnkge1xyXG4gIGxldCBmaWx0ZXJlZFJlc3RhdXJhbnRzID0gW107XHJcblxyXG4gICAgaWYgKGNhdGVnb3JpYSAmJiBuYW1lKSB7XHJcbiAgICAgIC8vIEVuY29udHJhciByZXN0YXVyYW50ZXMgcG9yIGFtYm9zIGZpbHRybyB5IG5vbWJyZSBcclxuICAgICAgIGZpbHRlcmVkUmVzdGF1cmFudHMgPSBhd2FpdCBSZXN0YXVyYW50ZS5maW5kKHtcclxuICAgICAgICBjYXRlZ29yaWE6IGNhdGVnb3JpYSxcclxuICAgICAgICAkb3I6IFtcclxuICAgICAgICAgIHsgbmFtZTogeyAkcmVnZXg6IG5hbWUsICRvcHRpb25zOiAnaScgfSB9LFxyXG4gICAgICAgICAgeyBuYW1lOiB7ICRyZWdleDogbmV3IFJlZ0V4cChzdHJpbmdTaW1pbGFyaXR5LmZpbmRCZXN0TWF0Y2gobmFtZSwgYXdhaXQgUmVzdGF1cmFudGUuZmluZCgpLmRpc3RpbmN0KCduYW1lJykpLmJlc3RNYXRjaC50YXJnZXQsICdpJykgfSB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KS5zb3J0KHtudW1QZWRpZG9zOi0xfSk7XHJcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3JpYSkge1xyXG4gICAgICAvLyBFbmNvbnRyYXIgcmVzdGF1cmFudGVzIHBvciBjYXRlZ29yaWEgc29sYW1lbnRlXHJcbiAgICAgICBmaWx0ZXJlZFJlc3RhdXJhbnRzID0gYXdhaXQgUmVzdGF1cmFudGUuZmluZCh7IGNhdGVnb3JpYTogY2F0ZWdvcmlhIH0pLnNvcnQoe251bVBlZGlkb3M6LTF9KTtcclxuICAgIH0gZWxzZSBpZiAobmFtZSkge1xyXG4gICAgICAvLyBFbmNvbnRyYXIgcmVzdGF1cmFudGVzIHNvbG8gcG9yIG5vbWJyZSBcclxuICAgICAgIGZpbHRlcmVkUmVzdGF1cmFudHMgPSBhd2FpdCBSZXN0YXVyYW50ZS5maW5kKHtcclxuICAgICAgICAkb3I6IFtcclxuICAgICAgICAgIHsgbmFtZTogeyAkcmVnZXg6IG5hbWUsICRvcHRpb25zOiAnaScgfSB9LFxyXG4gICAgICAgICAgeyBuYW1lOiB7ICRyZWdleDogbmV3IFJlZ0V4cChzdHJpbmdTaW1pbGFyaXR5LmZpbmRCZXN0TWF0Y2gobmFtZSwgYXdhaXQgUmVzdGF1cmFudGUuZmluZCgpLmRpc3RpbmN0KCduYW1lJykpLmJlc3RNYXRjaC50YXJnZXQsICdpJykgfSB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KS5zb3J0KHtudW1QZWRpZG9zOi0xfSk7XHJcbiAgICB9IFxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGZpbHRlcmVkUmVzdGF1cmFudHMpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSZXN0YXVyYW50ZShyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGNhdGVnb3JpYSAsIGRpcmVjY2lvbn0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3RhdXJhbnRlID0gbmV3IFJlc3RhdXJhbnRlKHsgbmFtZSwgY2F0ZWdvcmlhLCBkaXJlY2Npb259KTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IHJlc3RhdXJhbnRlLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdGFkbyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhdGNoUmVzdGF1cmFudGUocmVxLCByZXMpIHtcclxuICB0cnl7XHJcbiAgICBjb25zdCB7IF9pZCwgLi4udXBkYXRlcyB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCByZXN1bHRhZG8gPSBhd2FpdCBSZXN0YXVyYW50ZS5maW5kT25lQW5kVXBkYXRlKHtfaWQsIGlzRGVsZXRlZCA6IGZhbHNlfSx1cGRhdGVzICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVSZXN0YXVyYW50ZShyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IF9pZCA9IHJlcS5wYXJhbXMuX2lkO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgUHJvZHVjdG8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDQSxJQUFBQSxZQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDOUMsTUFBTUcsZ0JBQWdCLEdBQUdKLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQztBQUU5QyxlQUFlSyxjQUFjQSxDQUFDQyxHQUFHLEVBQUNDLEdBQUcsRUFBRTtFQUM1QyxJQUFHO0lBQ0QsTUFBTTtNQUFFQztJQUFJLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxLQUFLO0lBQ3pCLE1BQU1DLFdBQVcsR0FBRyxNQUFNQyxvQkFBVyxDQUFDQyxJQUFJLENBQUM7TUFBQ0osR0FBRztNQUFFSyxTQUFTLEVBQUM7SUFBSyxDQUFDLENBQUM7SUFDbEVOLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLFdBQVcsQ0FBQztFQUNuQyxDQUFDLFFBQU1NLEdBQUcsRUFBQztJQUNUVCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDM0I7QUFDRjtBQUVPLGVBQWVDLG9CQUFvQkEsQ0FBQ1gsR0FBRyxFQUFDQyxHQUFHLEVBQUU7RUFDbEQsTUFBTTtJQUFFVyxTQUFTO0lBQUVDO0VBQUssQ0FBQyxHQUFHYixHQUFHLENBQUNHLEtBQUs7RUFFckMsSUFBSTtJQUNKLElBQUlXLG1CQUFtQixHQUFHLEVBQUU7SUFFMUIsSUFBSUYsU0FBUyxJQUFJQyxJQUFJLEVBQUU7TUFDckI7TUFDQ0MsbUJBQW1CLEdBQUcsTUFBTVQsb0JBQVcsQ0FBQ0MsSUFBSSxDQUFDO1FBQzVDTSxTQUFTLEVBQUVBLFNBQVM7UUFDcEJHLEdBQUcsRUFBRSxDQUNIO1VBQUVGLElBQUksRUFBRTtZQUFFRyxNQUFNLEVBQUVILElBQUk7WUFBRUksUUFBUSxFQUFFO1VBQUk7UUFBRSxDQUFDLEVBQ3pDO1VBQUVKLElBQUksRUFBRTtZQUFFRyxNQUFNLEVBQUUsSUFBSUUsTUFBTSxDQUFDcEIsZ0JBQWdCLENBQUNxQixhQUFhLENBQUNOLElBQUksRUFBRSxNQUFNUixvQkFBVyxDQUFDQyxJQUFJLEVBQUUsQ0FBQ2MsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUNDLFNBQVMsQ0FBQ0MsTUFBTSxFQUFFLEdBQUc7VUFBRTtRQUFFLENBQUM7TUFFM0ksQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFDQyxVQUFVLEVBQUMsQ0FBQztNQUFDLENBQUMsQ0FBQztJQUMxQixDQUFDLE1BQU0sSUFBSVosU0FBUyxFQUFFO01BQ3BCO01BQ0NFLG1CQUFtQixHQUFHLE1BQU1ULG9CQUFXLENBQUNDLElBQUksQ0FBQztRQUFFTSxTQUFTLEVBQUVBO01BQVUsQ0FBQyxDQUFDLENBQUNXLElBQUksQ0FBQztRQUFDQyxVQUFVLEVBQUMsQ0FBQztNQUFDLENBQUMsQ0FBQztJQUMvRixDQUFDLE1BQU0sSUFBSVgsSUFBSSxFQUFFO01BQ2Y7TUFDQ0MsbUJBQW1CLEdBQUcsTUFBTVQsb0JBQVcsQ0FBQ0MsSUFBSSxDQUFDO1FBQzVDUyxHQUFHLEVBQUUsQ0FDSDtVQUFFRixJQUFJLEVBQUU7WUFBRUcsTUFBTSxFQUFFSCxJQUFJO1lBQUVJLFFBQVEsRUFBRTtVQUFJO1FBQUUsQ0FBQyxFQUN6QztVQUFFSixJQUFJLEVBQUU7WUFBRUcsTUFBTSxFQUFFLElBQUlFLE1BQU0sQ0FBQ3BCLGdCQUFnQixDQUFDcUIsYUFBYSxDQUFDTixJQUFJLEVBQUUsTUFBTVIsb0JBQVcsQ0FBQ0MsSUFBSSxFQUFFLENBQUNjLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDQyxTQUFTLENBQUNDLE1BQU0sRUFBRSxHQUFHO1VBQUU7UUFBRSxDQUFDO01BRTNJLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBQ0MsVUFBVSxFQUFDLENBQUM7TUFBQyxDQUFDLENBQUM7SUFDMUI7SUFFQXZCLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNLLG1CQUFtQixDQUFDO0VBQzNDLENBQUMsQ0FBQyxPQUFPSixHQUFHLEVBQUU7SUFDWmUsT0FBTyxDQUFDQyxLQUFLLENBQUNoQixHQUFHLENBQUM7SUFDbEJULEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUMzQjtBQUNGO0FBRU8sZUFBZWlCLGlCQUFpQkEsQ0FBQzNCLEdBQUcsRUFBRUMsR0FBRyxFQUFFO0VBQ2hELElBQUk7SUFDRixNQUFNO01BQUVZLElBQUk7TUFBRUQsU0FBUztNQUFHZ0I7SUFBUyxDQUFDLEdBQUc1QixHQUFHLENBQUM2QixJQUFJO0lBQy9DLE1BQU16QixXQUFXLEdBQUcsSUFBSUMsb0JBQVcsQ0FBQztNQUFFUSxJQUFJO01BQUVELFNBQVM7TUFBRWdCO0lBQVMsQ0FBQyxDQUFDO0lBQ2xFLE1BQU1FLFNBQVMsR0FBRyxNQUFNMUIsV0FBVyxDQUFDMkIsSUFBSSxFQUFFO0lBQzFDOUIsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ3FCLFNBQVMsQ0FBQztFQUNqQyxDQUFDLENBQUMsT0FBT3BCLEdBQUcsRUFBRTtJQUNaVCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDM0I7QUFDRjtBQUVPLGVBQWVzQixnQkFBZ0JBLENBQUNoQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUMvQyxJQUFHO0lBQ0QsTUFBTTtNQUFFQyxHQUFHO01BQUUsR0FBRytCO0lBQVEsQ0FBQyxHQUFHakMsR0FBRyxDQUFDNkIsSUFBSTtJQUNwQyxNQUFNQyxTQUFTLEdBQUcsTUFBTXpCLG9CQUFXLENBQUM2QixnQkFBZ0IsQ0FBQztNQUFDaEMsR0FBRztNQUFFSyxTQUFTLEVBQUc7SUFBSyxDQUFDLEVBQUMwQixPQUFPLEVBQUU7TUFBRUUsR0FBRyxFQUFFLElBQUk7TUFBRUMsYUFBYSxFQUFFO0lBQUksQ0FBQyxDQUFDO0lBQ3pIbkMsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ3FCLFNBQVMsQ0FBQztFQUNqQyxDQUFDLENBQUMsT0FBTXBCLEdBQUcsRUFBQztJQUNWVCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDQyxHQUFHLENBQUM7RUFDM0I7QUFDRjtBQUVPLGVBQWUyQixpQkFBaUJBLENBQUNyQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtFQUNoRCxJQUFHO0lBQ0QsTUFBTUMsR0FBRyxHQUFHRixHQUFHLENBQUNzQyxNQUFNLENBQUNwQyxHQUFHO0lBQzFCLE1BQU00QixTQUFTLEdBQUcsTUFBTVMsUUFBUSxDQUFDTCxnQkFBZ0IsQ0FBQ2hDLEdBQUcsRUFBRTtNQUFDSyxTQUFTLEVBQUU7SUFBSSxDQUFDLEVBQUU7TUFBRTRCLEdBQUcsRUFBRSxJQUFJO01BQUVDLGFBQWEsRUFBRTtJQUFJLENBQUMsQ0FBQztJQUM1R25DLEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNxQixTQUFTLENBQUM7RUFDakMsQ0FBQyxDQUFDLE9BQU1wQixHQUFHLEVBQUM7SUFDVlQsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDO0VBQzNCO0FBQ0YifQ==","map":{"version":3,"names":["_restaurante","_interopRequireDefault","require","obj","__esModule","default","stringSimilarity","getRestaurante","req","res","_id","query","restaurante","Restaurante","find","isDeleted","status","json","err","getRestauranteCatNom","categoria","name","filteredRestaurants","$or","$regex","$options","RegExp","findBestMatch","distinct","bestMatch","target","sort","numPedidos","console","error","createRestaurante","direccion","body","resultado","save","patchRestaurante","updates","findOneAndUpdate","new","runValidators","deleteRestaurante","params","Producto"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\restaurante\\","sources":["restaurante.controller.js"],"sourcesContent":["\r\nimport Restaurante from './restaurante.model';\r\nconst stringSimilarity = require('string-similarity');\r\n\r\nexport async function getRestaurante(req,res) {\r\n  try{ \r\n    const { _id } = req.query;\r\n    const restaurante = await Restaurante.find({_id, isDeleted:false});\r\n    res.status(200).json(restaurante);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getRestauranteCatNom(req,res) {\r\n  const { categoria, name } = req.query;\r\n\r\n  try {\r\n  let filteredRestaurants = [];\r\n\r\n    if (categoria && name) {\r\n      // Encontrar restaurantes por ambos filtro y nombre \r\n       filteredRestaurants = await Restaurante.find({\r\n        categoria: categoria,\r\n        $or: [\r\n          { name: { $regex: name, $options: 'i' } },\r\n          { name: { $regex: new RegExp(stringSimilarity.findBestMatch(name, await Restaurante.find().distinct('name')).bestMatch.target, 'i') } }\r\n        ]\r\n      }).sort({numPedidos:-1});\r\n    } else if (categoria) {\r\n      // Encontrar restaurantes por categoria solamente\r\n       filteredRestaurants = await Restaurante.find({ categoria: categoria }).sort({numPedidos:-1});\r\n    } else if (name) {\r\n      // Encontrar restaurantes solo por nombre \r\n       filteredRestaurants = await Restaurante.find({\r\n        $or: [\r\n          { name: { $regex: name, $options: 'i' } },\r\n          { name: { $regex: new RegExp(stringSimilarity.findBestMatch(name, await Restaurante.find().distinct('name')).bestMatch.target, 'i') } }\r\n        ]\r\n      }).sort({numPedidos:-1});\r\n    } \r\n\r\n    res.status(200).json(filteredRestaurants);\r\n  } catch (err) {\r\n    console.error(err);\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function createRestaurante(req, res) {\r\n  try {\r\n    const { name, categoria , direccion} = req.body;\r\n    const restaurante = new Restaurante({ name, categoria, direccion});\r\n    const resultado = await restaurante.save();\r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchRestaurante(req, res) {\r\n  try{\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Restaurante.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}\r\n\r\nexport async function deleteRestaurante(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Producto.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":";;;;;;;;;;AACA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8C,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC9C,MAAMG,gBAAgB,GAAGJ,OAAO,CAAC,mBAAmB,CAAC;AAE9C,eAAeK,cAAcA,CAACC,GAAG,EAACC,GAAG,EAAE;EAC5C,IAAG;IACD,MAAM;MAAEC;IAAI,CAAC,GAAGF,GAAG,CAACG,KAAK;IACzB,MAAMC,WAAW,GAAG,MAAMC,oBAAW,CAACC,IAAI,CAAC;MAACJ,GAAG;MAAEK,SAAS,EAAC;IAAK,CAAC,CAAC;IAClEN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACL,WAAW,CAAC;EACnC,CAAC,QAAMM,GAAG,EAAC;IACTT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,GAAG,CAAC;EAC3B;AACF;AAEO,eAAeC,oBAAoBA,CAACX,GAAG,EAACC,GAAG,EAAE;EAClD,MAAM;IAAEW,SAAS;IAAEC;EAAK,CAAC,GAAGb,GAAG,CAACG,KAAK;EAErC,IAAI;IACJ,IAAIW,mBAAmB,GAAG,EAAE;IAE1B,IAAIF,SAAS,IAAIC,IAAI,EAAE;MACrB;MACCC,mBAAmB,GAAG,MAAMT,oBAAW,CAACC,IAAI,CAAC;QAC5CM,SAAS,EAAEA,SAAS;QACpBG,GAAG,EAAE,CACH;UAAEF,IAAI,EAAE;YAAEG,MAAM,EAAEH,IAAI;YAAEI,QAAQ,EAAE;UAAI;QAAE,CAAC,EACzC;UAAEJ,IAAI,EAAE;YAAEG,MAAM,EAAE,IAAIE,MAAM,CAACpB,gBAAgB,CAACqB,aAAa,CAACN,IAAI,EAAE,MAAMR,oBAAW,CAACC,IAAI,EAAE,CAACc,QAAQ,CAAC,MAAM,CAAC,CAAC,CAACC,SAAS,CAACC,MAAM,EAAE,GAAG;UAAE;QAAE,CAAC;MAE3I,CAAC,CAAC,CAACC,IAAI,CAAC;QAACC,UAAU,EAAC,CAAC;MAAC,CAAC,CAAC;IAC1B,CAAC,MAAM,IAAIZ,SAAS,EAAE;MACpB;MACCE,mBAAmB,GAAG,MAAMT,oBAAW,CAACC,IAAI,CAAC;QAAEM,SAAS,EAAEA;MAAU,CAAC,CAAC,CAACW,IAAI,CAAC;QAACC,UAAU,EAAC,CAAC;MAAC,CAAC,CAAC;IAC/F,CAAC,MAAM,IAAIX,IAAI,EAAE;MACf;MACCC,mBAAmB,GAAG,MAAMT,oBAAW,CAACC,IAAI,CAAC;QAC5CS,GAAG,EAAE,CACH;UAAEF,IAAI,EAAE;YAAEG,MAAM,EAAEH,IAAI;YAAEI,QAAQ,EAAE;UAAI;QAAE,CAAC,EACzC;UAAEJ,IAAI,EAAE;YAAEG,MAAM,EAAE,IAAIE,MAAM,CAACpB,gBAAgB,CAACqB,aAAa,CAACN,IAAI,EAAE,MAAMR,oBAAW,CAACC,IAAI,EAAE,CAACc,QAAQ,CAAC,MAAM,CAAC,CAAC,CAACC,SAAS,CAACC,MAAM,EAAE,GAAG;UAAE;QAAE,CAAC;MAE3I,CAAC,CAAC,CAACC,IAAI,CAAC;QAACC,UAAU,EAAC,CAAC;MAAC,CAAC,CAAC;IAC1B;IAEAvB,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACK,mBAAmB,CAAC;EAC3C,CAAC,CAAC,OAAOJ,GAAG,EAAE;IACZe,OAAO,CAACC,KAAK,CAAChB,GAAG,CAAC;IAClBT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,GAAG,CAAC;EAC3B;AACF;AAEO,eAAeiB,iBAAiBA,CAAC3B,GAAG,EAAEC,GAAG,EAAE;EAChD,IAAI;IACF,MAAM;MAAEY,IAAI;MAAED,SAAS;MAAGgB;IAAS,CAAC,GAAG5B,GAAG,CAAC6B,IAAI;IAC/C,MAAMzB,WAAW,GAAG,IAAIC,oBAAW,CAAC;MAAEQ,IAAI;MAAED,SAAS;MAAEgB;IAAS,CAAC,CAAC;IAClE,MAAME,SAAS,GAAG,MAAM1B,WAAW,CAAC2B,IAAI,EAAE;IAC1C9B,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACqB,SAAS,CAAC;EACjC,CAAC,CAAC,OAAOpB,GAAG,EAAE;IACZT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,GAAG,CAAC;EAC3B;AACF;AAEO,eAAesB,gBAAgBA,CAAChC,GAAG,EAAEC,GAAG,EAAE;EAC/C,IAAG;IACD,MAAM;MAAEC,GAAG;MAAE,GAAG+B;IAAQ,CAAC,GAAGjC,GAAG,CAAC6B,IAAI;IACpC,MAAMC,SAAS,GAAG,MAAMzB,oBAAW,CAAC6B,gBAAgB,CAAC;MAAChC,GAAG;MAAEK,SAAS,EAAG;IAAK,CAAC,EAAC0B,OAAO,EAAE;MAAEE,GAAG,EAAE,IAAI;MAAEC,aAAa,EAAE;IAAI,CAAC,CAAC;IACzHnC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACqB,SAAS,CAAC;EACjC,CAAC,CAAC,OAAMpB,GAAG,EAAC;IACVT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,GAAG,CAAC;EAC3B;AACF;AAEO,eAAe2B,iBAAiBA,CAACrC,GAAG,EAAEC,GAAG,EAAE;EAChD,IAAG;IACD,MAAMC,GAAG,GAAGF,GAAG,CAACsC,MAAM,CAACpC,GAAG;IAC1B,MAAM4B,SAAS,GAAG,MAAMS,QAAQ,CAACL,gBAAgB,CAAChC,GAAG,EAAE;MAACK,SAAS,EAAE;IAAI,CAAC,EAAE;MAAE4B,GAAG,EAAE,IAAI;MAAEC,aAAa,EAAE;IAAI,CAAC,CAAC;IAC5GnC,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACqB,SAAS,CAAC;EACjC,CAAC,CAAC,OAAMpB,GAAG,EAAC;IACVT,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACC,GAAG,CAAC;EAC3B;AACF"}},"mtime":1682659784111},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\restaurante.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst restauranteSchema = mongoose.Schema({\n  // campos\n  name: {\n    type: String,\n    required: true\n  },\n  categoria: {\n    type: String,\n    required: true\n  },\n  numPedidos: {\n    type: Number,\n    default: 0\n  },\n  direccion: {\n    type: String,\n    required: true\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('restaurante', restauranteSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJyZXN0YXVyYW50ZVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjYXRlZ29yaWEiLCJudW1QZWRpZG9zIiwiTnVtYmVyIiwiZGVmYXVsdCIsImRpcmVjY2lvbiIsImlzRGVsZXRlZCIsIkJvb2xlYW4iLCJ0aW1lc3RhbXBzIiwiX2RlZmF1bHQiLCJtb2RlbCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHJlc3RhdXJhbnRlXFwiLCJzb3VyY2VzIjpbInJlc3RhdXJhbnRlLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHJlc3RhdXJhbnRlU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIC8vIGNhbXBvc1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjYXRlZ29yaWE6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIG51bVBlZGlkb3M6e3R5cGU6IE51bWJlciwgZGVmYXVsdDogMH0sXHJcbiAgICBkaXJlY2Npb246e3R5cGU6U3RyaW5nICwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgaXNEZWxldGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlfSxcclxuICB9LFxyXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbCgncmVzdGF1cmFudGUnLCByZXN0YXVyYW50ZVNjaGVtYSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGlCQUFpQixHQUFHRixRQUFRLENBQUNHLE1BQU0sQ0FDdkM7RUFDRTtFQUNBQyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdENDLFNBQVMsRUFBQztJQUFDSCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN6Q0UsVUFBVSxFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFFQyxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQ3JDQyxTQUFTLEVBQUM7SUFBQ1AsSUFBSSxFQUFDQyxNQUFNO0lBQUdDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDeENNLFNBQVMsRUFBRTtJQUFFUixJQUFJLEVBQUVTLE9BQU87SUFBRUgsT0FBTyxFQUFFO0VBQUs7QUFDNUMsQ0FBQyxFQUNEO0VBQUVJLFVBQVUsRUFBRTtBQUFLLENBQUMsQ0FDckI7QUFBQyxJQUFBQyxRQUFBLEdBRWFoQixRQUFRLENBQUNpQixLQUFLLENBQUMsYUFBYSxFQUFFZixpQkFBaUIsQ0FBQztBQUFBZ0IsT0FBQSxDQUFBUCxPQUFBLEdBQUFLLFFBQUEifQ==","map":{"version":3,"names":["mongoose","require","restauranteSchema","Schema","name","type","String","required","categoria","numPedidos","Number","default","direccion","isDeleted","Boolean","timestamps","_default","model","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\restaurante\\","sources":["restaurante.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst restauranteSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    name: { type: String, required: true },\r\n    categoria:{type: String, required: true },\r\n    numPedidos:{type: Number, default: 0},\r\n    direccion:{type:String , required: true},\r\n    isDeleted: { type: Boolean, default: false},\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('restaurante', restauranteSchema);\r\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,iBAAiB,GAAGF,QAAQ,CAACG,MAAM,CACvC;EACE;EACAC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,SAAS,EAAC;IAACH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACzCE,UAAU,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEC,OAAO,EAAE;EAAC,CAAC;EACrCC,SAAS,EAAC;IAACP,IAAI,EAACC,MAAM;IAAGC,QAAQ,EAAE;EAAI,CAAC;EACxCM,SAAS,EAAE;IAAER,IAAI,EAAES,OAAO;IAAEH,OAAO,EAAE;EAAK;AAC5C,CAAC,EACD;EAAEI,UAAU,EAAE;AAAK,CAAC,CACrB;AAAC,IAAAC,QAAA,GAEahB,QAAQ,CAACiB,KAAK,CAAC,aAAa,EAAEf,iBAAiB,CAAC;AAAAgB,OAAA,CAAAP,OAAA,GAAAK,QAAA"}},"mtime":1682656447669},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\usuario.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createUsuario = createUsuario;\nexports.deleteUsuario = deleteUsuario;\nexports.getUsuario = getUsuario;\nexports.patchUsuario = patchUsuario;\nvar _usuario = _interopRequireDefault(require(\"./usuario.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function getUsuario(req, res) {\n  const {\n    _id,\n    email,\n    password\n  } = req.query;\n  console.log(_id);\n  let usuarios = [];\n  try {\n    if (_id) {\n      usuarios = await _usuario.default.findOne({\n        _id,\n        isDeleted: false\n      });\n      //res.status(200).json(usuarios);\n    } else if (email && password) {\n      usuarios = await _usuario.default.findOne({\n        email,\n        password,\n        isDeleted: false\n      });\n      //res.status(200).json(usuarios);\n    }\n\n    res.status(200).json(usuarios);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function createUsuario(req, res) {\n  try {\n    const {\n      name,\n      email,\n      password,\n      direccion,\n      tipo,\n      cell\n    } = req.body;\n    const usuario = new _usuario.default({\n      name,\n      email,\n      password,\n      direccion,\n      tipo,\n      cell\n    });\n    const resultado = await usuario.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchUsuario(req, res) {\n  try {\n    // se busca por el id y los cambios que se enviarion al body\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _usuario.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function deleteUsuario(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await _usuario.default.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXN1YXJpbyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRVc3VhcmlvIiwicmVxIiwicmVzIiwiX2lkIiwiZW1haWwiLCJwYXNzd29yZCIsInF1ZXJ5IiwiY29uc29sZSIsImxvZyIsInVzdWFyaW9zIiwiVXN1YXJpbyIsImZpbmRPbmUiLCJpc0RlbGV0ZWQiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwiY3JlYXRlVXN1YXJpbyIsIm5hbWUiLCJkaXJlY2Npb24iLCJ0aXBvIiwiY2VsbCIsImJvZHkiLCJ1c3VhcmlvIiwicmVzdWx0YWRvIiwic2F2ZSIsInBhdGNoVXN1YXJpbyIsInVwZGF0ZXMiLCJmaW5kT25lQW5kVXBkYXRlIiwibmV3IiwicnVuVmFsaWRhdG9ycyIsImRlbGV0ZVVzdWFyaW8iLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHVzdWFyaW9cXCIsInNvdXJjZXMiOlsidXN1YXJpby5jb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxyXG5pbXBvcnQgVXN1YXJpbyBmcm9tICcuL3VzdWFyaW8ubW9kZWwnO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzdWFyaW8ocmVxLHJlcykge1xyXG4gICBjb25zdCB7IF9pZCwgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEucXVlcnk7XHJcbiAgIGNvbnNvbGUubG9nKF9pZClcclxuICAgbGV0IHVzdWFyaW9zID0gW107XHJcbiAgdHJ5e1xyXG4gICAgaWYoX2lkKXtcclxuICAgICB1c3VhcmlvcyA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZSh7X2lkLCBpc0RlbGV0ZWQ6ZmFsc2V9KTtcclxuICAgIC8vcmVzLnN0YXR1cygyMDApLmpzb24odXN1YXJpb3MpO1xyXG4gIH1lbHNlIGlmKGVtYWlsJiZwYXNzd29yZCl7XHJcbiAgICAgdXN1YXJpb3MgPSBhd2FpdCBVc3VhcmlvLmZpbmRPbmUoe2VtYWlsLCBwYXNzd29yZCwgaXNEZWxldGVkOmZhbHNlfSk7XHJcbiAgICAvL3Jlcy5zdGF0dXMoMjAwKS5qc29uKHVzdWFyaW9zKTtcclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24odXN1YXJpb3MpO1xyXG4gIH1jYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXN1YXJpbyhyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgZGlyZWNjaW9uLCB0aXBvLCBjZWxsIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHVzdWFyaW8gPSBuZXcgVXN1YXJpbyh7IG5hbWUsIGVtYWlsLCBwYXNzd29yZCwgZGlyZWNjaW9uLCB0aXBvLCBjZWxsIH0pO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgdXN1YXJpby5zYXZlKCk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN1bHRhZG8pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXRjaFVzdWFyaW8ocmVxLCByZXMpIHtcclxuICB0cnl7XHJcbiAgICAvLyBzZSBidXNjYSBwb3IgZWwgaWQgeSBsb3MgY2FtYmlvcyBxdWUgc2UgZW52aWFyaW9uIGFsIGJvZHlcclxuICAgIGNvbnN0IHsgX2lkLCAuLi51cGRhdGVzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZUFuZFVwZGF0ZSh7X2lkLCBpc0RlbGV0ZWQgOiBmYWxzZX0sdXBkYXRlcyAseyBuZXc6IHRydWUsIHJ1blZhbGlkYXRvcnM6IHRydWV9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdGFkbyk7XHJcbiAgfSBjYXRjaChlcnIpe1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9IFxyXG5cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZVVzdWFyaW8ocmVxLCByZXMpIHtcclxuICB0cnl7XHJcbiAgICBjb25zdCBfaWQgPSByZXEucGFyYW1zLl9pZDtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFVzdWFyaW8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUvQixlQUFlRyxVQUFVQSxDQUFDQyxHQUFHLEVBQUNDLEdBQUcsRUFBRTtFQUN2QyxNQUFNO0lBQUVDLEdBQUc7SUFBRUMsS0FBSztJQUFFQztFQUFTLENBQUMsR0FBR0osR0FBRyxDQUFDSyxLQUFLO0VBQzFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0wsR0FBRyxDQUFDO0VBQ2hCLElBQUlNLFFBQVEsR0FBRyxFQUFFO0VBQ2xCLElBQUc7SUFDRCxJQUFHTixHQUFHLEVBQUM7TUFDTk0sUUFBUSxHQUFHLE1BQU1DLGdCQUFPLENBQUNDLE9BQU8sQ0FBQztRQUFDUixHQUFHO1FBQUVTLFNBQVMsRUFBQztNQUFLLENBQUMsQ0FBQztNQUN6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","map":{"version":3,"names":["_usuario","_interopRequireDefault","require","obj","__esModule","default","getUsuario","req","res","_id","email","password","query","console","log","usuarios","Usuario","findOne","isDeleted","status","json","err","createUsuario","name","direccion","tipo","cell","body","usuario","resultado","save","patchUsuario","updates","findOneAndUpdate","new","runValidators","deleteUsuario","params"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\usuario\\","sources":["usuario.controller.js"],"sourcesContent":["\r\nimport Usuario from './usuario.model';\r\n\r\nexport async function getUsuario(req,res) {\r\n   const { _id, email, password } = req.query;\r\n   console.log(_id)\r\n   let usuarios = [];\r\n  try{\r\n    if(_id){\r\n     usuarios = await Usuario.findOne({_id, isDeleted:false});\r\n    //res.status(200).json(usuarios);\r\n  }else if(email&&password){\r\n     usuarios = await Usuario.findOne({email, password, isDeleted:false});\r\n    //res.status(200).json(usuarios);\r\n  }\r\n  res.status(200).json(usuarios);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n\r\n}\r\n\r\nexport async function createUsuario(req, res) {\r\n  try {\r\n    const { name, email, password, direccion, tipo, cell } = req.body;\r\n    const usuario = new Usuario({ name, email, password, direccion, tipo, cell });\r\n    const resultado = await usuario.save();\r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchUsuario(req, res) {\r\n  try{\r\n    // se busca por el id y los cambios que se enviarion al body\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Usuario.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n\r\n}\r\n\r\nexport async function deleteUsuario(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Usuario.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682659430373},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\usuario\\\\usuario.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst usuarioSchema = mongoose.Schema({\n  // campos\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  name: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  cell: {\n    type: Number,\n    required: true,\n    unique: true\n  },\n  direccion: {\n    type: String,\n    required: true\n  },\n  tipo: {\n    type: String,\n    required: true,\n    enum: [\"cliente\", \"administrador\", \"domiciliario\"]\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('usuario', usuarioSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJ1c3VhcmlvU2NoZW1hIiwiU2NoZW1hIiwiZW1haWwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJuYW1lIiwicGFzc3dvcmQiLCJjZWxsIiwiTnVtYmVyIiwiZGlyZWNjaW9uIiwidGlwbyIsImVudW0iLCJpc0RlbGV0ZWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJfZGVmYXVsdCIsIm1vZGVsIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxKYWltZVxcRGVza3RvcFxcQmFja2VuZFxcUHJveWVjdG9fMVxcdXN1YXJpb1xcIiwic291cmNlcyI6WyJ1c3VhcmlvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHVzdWFyaW9TY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoXHJcbiAge1xyXG4gICAgLy8gY2FtcG9zXHJcbiAgICBlbWFpbDoge3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZX0sXHJcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcGFzc3dvcmQ6IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGNlbGw6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlLCB1bmlxdWU6dHJ1ZX0sXHJcbiAgICBkaXJlY2Npb246IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIHRpcG86IHt0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCBlbnVtOiBbXCJjbGllbnRlXCIsXCJhZG1pbmlzdHJhZG9yXCIsXCJkb21pY2lsaWFyaW9cIl19LFxyXG5cclxuICAgIGlzRGVsZXRlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIH0sXHJcbiAgeyB0aW1lc3RhbXBzOiB0cnVlIH1cclxuKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1vbmdvb3NlLm1vZGVsKCd1c3VhcmlvJywgdXN1YXJpb1NjaGVtYSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGFBQWEsR0FBR0YsUUFBUSxDQUFDRyxNQUFNLENBQ25DO0VBQ0U7RUFDQUMsS0FBSyxFQUFFO0lBQUNDLElBQUksRUFBRUMsTUFBTTtJQUFFQyxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUU7RUFBSSxDQUFDO0VBQ25EQyxJQUFJLEVBQUU7SUFBRUosSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDckNHLFFBQVEsRUFBRTtJQUFDTCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUksQ0FBQztFQUN4Q0ksSUFBSSxFQUFFO0lBQUNOLElBQUksRUFBRU8sTUFBTTtJQUFFTCxRQUFRLEVBQUUsSUFBSTtJQUFFQyxNQUFNLEVBQUM7RUFBSSxDQUFDO0VBQ2pESyxTQUFTLEVBQUU7SUFBQ1IsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDekNPLElBQUksRUFBRTtJQUFDVCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFLElBQUk7SUFBRVEsSUFBSSxFQUFFLENBQUMsU0FBUyxFQUFDLGVBQWUsRUFBQyxjQUFjO0VBQUMsQ0FBQztFQUV0RkMsU0FBUyxFQUFFO0lBQUVYLElBQUksRUFBRVksT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTTtBQUM3QyxDQUFDLEVBQ0Q7RUFBRUMsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUNyQjtBQUFDLElBQUFDLFFBQUEsR0FFYXBCLFFBQVEsQ0FBQ3FCLEtBQUssQ0FBQyxTQUFTLEVBQUVuQixhQUFhLENBQUM7QUFBQW9CLE9BQUEsQ0FBQUosT0FBQSxHQUFBRSxRQUFBIn0=","map":{"version":3,"names":["mongoose","require","usuarioSchema","Schema","email","type","String","required","unique","name","password","cell","Number","direccion","tipo","enum","isDeleted","Boolean","default","timestamps","_default","model","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\usuario\\","sources":["usuario.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst usuarioSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    email: {type: String, required: true, unique: true},\r\n    name: { type: String, required: true},\r\n    password: {type: String, required: true},\r\n    cell: {type: Number, required: true, unique:true},\r\n    direccion: {type: String, required: true},\r\n    tipo: {type: String, required: true, enum: [\"cliente\",\"administrador\",\"domiciliario\"]},\r\n\r\n    isDeleted: { type: Boolean, default: false },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('usuario', usuarioSchema);\r\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,aAAa,GAAGF,QAAQ,CAACG,MAAM,CACnC;EACE;EACAC,KAAK,EAAE;IAACC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAI,CAAC;EACnDC,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACrCG,QAAQ,EAAE;IAACL,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACxCI,IAAI,EAAE;IAACN,IAAI,EAAEO,MAAM;IAAEL,QAAQ,EAAE,IAAI;IAAEC,MAAM,EAAC;EAAI,CAAC;EACjDK,SAAS,EAAE;IAACR,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAI,CAAC;EACzCO,IAAI,EAAE;IAACT,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE,IAAI;IAAEQ,IAAI,EAAE,CAAC,SAAS,EAAC,eAAe,EAAC,cAAc;EAAC,CAAC;EAEtFC,SAAS,EAAE;IAAEX,IAAI,EAAEY,OAAO;IAAEC,OAAO,EAAE;EAAM;AAC7C,CAAC,EACD;EAAEC,UAAU,EAAE;AAAK,CAAC,CACrB;AAAC,IAAAC,QAAA,GAEapB,QAAQ,CAACqB,KAAK,CAAC,SAAS,EAAEnB,aAAa,CAAC;AAAAoB,OAAA,CAAAJ,OAAA,GAAAE,QAAA"}},"mtime":1682654900479},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\restaurante.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _restaurante = require(\"./restaurante.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _restaurante.getRestaurante);\nrouter.get('/2', _restaurante.getRestauranteCatNom);\n\n// Endpoint POST /prueba\nrouter.post('/', _restaurante.createRestaurante);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _restaurante.patchRestaurante);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _restaurante.deleteRestaurante);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVzdGF1cmFudGUiLCJyZXF1aXJlIiwiX2V4cHJlc3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJnZXRSZXN0YXVyYW50ZSIsImdldFJlc3RhdXJhbnRlQ2F0Tm9tIiwicG9zdCIsImNyZWF0ZVJlc3RhdXJhbnRlIiwicGF0Y2giLCJwYXRjaFJlc3RhdXJhbnRlIiwiZGVsZXRlIiwiZGVsZXRlUmVzdGF1cmFudGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxyZXN0YXVyYW50ZVxcIiwic291cmNlcyI6WyJyZXN0YXVyYW50ZS5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUmVzdGF1cmFudGUsIGRlbGV0ZVJlc3RhdXJhbnRlLCBnZXRSZXN0YXVyYW50ZSwgZ2V0UmVzdGF1cmFudGVDYXROb20sIHBhdGNoUmVzdGF1cmFudGUgfSBmcm9tIFwiLi9yZXN0YXVyYW50ZS5jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7Um91dGVyfSBmcm9tICdleHByZXNzJztcclxuY29uc3Qgcm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyBFbmRwb2ludCBHRVQgL3BydWViYVxyXG5yb3V0ZXIuZ2V0KCcvJywgZ2V0UmVzdGF1cmFudGUgKTtcclxuXHJcbnJvdXRlci5nZXQoJy8yJywgZ2V0UmVzdGF1cmFudGVDYXROb20gKTtcclxuXHJcbi8vIEVuZHBvaW50IFBPU1QgL3BydWViYVxyXG5yb3V0ZXIucG9zdCgnLycsIGNyZWF0ZVJlc3RhdXJhbnRlICk7XHJcblxyXG4vLyBFbmRwb2ludCBQQVRDSCAvcHJ1ZWJhXHJcbnJvdXRlci5wYXRjaCgnLycsIHBhdGNoUmVzdGF1cmFudGUgKTtcclxuXHJcbi8vIEVuZHBvaW50IERFTEVURSAvcHJ1ZWJhXHJcbnJvdXRlci5kZWxldGUoJy8nLCBkZWxldGVSZXN0YXVyYW50ZSApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsUUFBQSxHQUFBRCxPQUFBO0FBQ0EsTUFBTUUsTUFBTSxHQUFHLElBQUFDLGVBQU0sR0FBRTs7QUFFdkI7QUFDQUQsTUFBTSxDQUFDRSxHQUFHLENBQUMsR0FBRyxFQUFFQywyQkFBYyxDQUFFO0FBRWhDSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxJQUFJLEVBQUVFLGlDQUFvQixDQUFFOztBQUV2QztBQUNBSixNQUFNLENBQUNLLElBQUksQ0FBQyxHQUFHLEVBQUVDLDhCQUFpQixDQUFFOztBQUVwQztBQUNBTixNQUFNLENBQUNPLEtBQUssQ0FBQyxHQUFHLEVBQUVDLDZCQUFnQixDQUFFOztBQUVwQztBQUNBUixNQUFNLENBQUNTLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLDhCQUFpQixDQUFFO0FBQUMsSUFBQUMsUUFBQSxHQUV4QlgsTUFBTTtBQUFBWSxPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["_restaurante","require","_express","router","Router","get","getRestaurante","getRestauranteCatNom","post","createRestaurante","patch","patchRestaurante","delete","deleteRestaurante","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\restaurante\\","sources":["restaurante.routes.js"],"sourcesContent":["import { createRestaurante, deleteRestaurante, getRestaurante, getRestauranteCatNom, patchRestaurante } from \"./restaurante.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getRestaurante );\r\n\r\nrouter.get('/2', getRestauranteCatNom );\r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createRestaurante );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchRestaurante );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deleteRestaurante );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,MAAME,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,2BAAc,CAAE;AAEhCH,MAAM,CAACE,GAAG,CAAC,IAAI,EAAEE,iCAAoB,CAAE;;AAEvC;AACAJ,MAAM,CAACK,IAAI,CAAC,GAAG,EAAEC,8BAAiB,CAAE;;AAEpC;AACAN,MAAM,CAACO,KAAK,CAAC,GAAG,EAAEC,6BAAgB,CAAE;;AAEpC;AACAR,MAAM,CAACS,MAAM,CAAC,GAAG,EAAEC,8BAAiB,CAAE;AAAC,IAAAC,QAAA,GAExBX,MAAM;AAAAY,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682554975365},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\producto.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = require(\"mongoose\");\nvar _producto = require(\"./producto.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _producto.getProducto);\nrouter.get('/restaurante', _producto.getProductoRes);\n\n// Endpoint POST /prueba\nrouter.post('/', _producto.createProducto);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _producto.patchProducto);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _producto.deleteProducto);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJyZXF1aXJlIiwiX3Byb2R1Y3RvIiwiX2V4cHJlc3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJnZXRQcm9kdWN0byIsImdldFByb2R1Y3RvUmVzIiwicG9zdCIsImNyZWF0ZVByb2R1Y3RvIiwicGF0Y2giLCJwYXRjaFByb2R1Y3RvIiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdG8iLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxwcm9kdWN0b1xcIiwic291cmNlcyI6WyJwcm9kdWN0by5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0IH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVByb2R1Y3RvLCBkZWxldGVQcm9kdWN0bywgZ2V0UHJvZHVjdG8sIGdldFByb2R1Y3RvUmVzLCBwYXRjaFByb2R1Y3RvIH0gZnJvbSBcIi4vcHJvZHVjdG8uY29udHJvbGxlclwiO1xyXG5pbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gRW5kcG9pbnQgR0VUIC9wcnVlYmFcclxucm91dGVyLmdldCgnLycsIGdldFByb2R1Y3RvICk7IFxyXG5cclxucm91dGVyLmdldCgnL3Jlc3RhdXJhbnRlJywgZ2V0UHJvZHVjdG9SZXMgKTsgXHJcblxyXG4vLyBFbmRwb2ludCBQT1NUIC9wcnVlYmFcclxucm91dGVyLnBvc3QoJy8nLCBjcmVhdGVQcm9kdWN0byApO1xyXG5cclxuLy8gRW5kcG9pbnQgUEFUQ0ggL3BydWViYVxyXG5yb3V0ZXIucGF0Y2goJy8nLCBwYXRjaFByb2R1Y3RvICk7XHJcblxyXG4vLyBFbmRwb2ludCBERUxFVEUgL3BydWViYVxyXG5yb3V0ZXIuZGVsZXRlKCcvJywgZGVsZXRlUHJvZHVjdG8gKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUYsT0FBQTtBQUNBLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyxlQUFNLEdBQUU7O0FBRXZCO0FBQ0FELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLEdBQUcsRUFBRUMscUJBQVcsQ0FBRTtBQUU3QkgsTUFBTSxDQUFDRSxHQUFHLENBQUMsY0FBYyxFQUFFRSx3QkFBYyxDQUFFOztBQUUzQztBQUNBSixNQUFNLENBQUNLLElBQUksQ0FBQyxHQUFHLEVBQUVDLHdCQUFjLENBQUU7O0FBRWpDO0FBQ0FOLE1BQU0sQ0FBQ08sS0FBSyxDQUFDLEdBQUcsRUFBRUMsdUJBQWEsQ0FBRTs7QUFFakM7QUFDQVIsTUFBTSxDQUFDUyxNQUFNLENBQUMsR0FBRyxFQUFFQyx3QkFBYyxDQUFFO0FBQUMsSUFBQUMsUUFBQSxHQUVyQlgsTUFBTTtBQUFBWSxPQUFBLENBQUFDLE9BQUEsR0FBQUYsUUFBQSJ9","map":{"version":3,"names":["_mongoose","require","_producto","_express","router","Router","get","getProducto","getProductoRes","post","createProducto","patch","patchProducto","delete","deleteProducto","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\producto\\","sources":["producto.routes.js"],"sourcesContent":["import { get } from \"mongoose\";\r\nimport { createProducto, deleteProducto, getProducto, getProductoRes, patchProducto } from \"./producto.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getProducto ); \r\n\r\nrouter.get('/restaurante', getProductoRes ); \r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createProducto );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchProducto );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deleteProducto );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,MAAMG,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,qBAAW,CAAE;AAE7BH,MAAM,CAACE,GAAG,CAAC,cAAc,EAAEE,wBAAc,CAAE;;AAE3C;AACAJ,MAAM,CAACK,IAAI,CAAC,GAAG,EAAEC,wBAAc,CAAE;;AAEjC;AACAN,MAAM,CAACO,KAAK,CAAC,GAAG,EAAEC,uBAAa,CAAE;;AAEjC;AACAR,MAAM,CAACS,MAAM,CAAC,GAAG,EAAEC,wBAAc,CAAE;AAAC,IAAAC,QAAA,GAErBX,MAAM;AAAAY,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682991701519},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\producto.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProducto = createProducto;\nexports.deleteProducto = deleteProducto;\nexports.getProducto = getProducto;\nexports.getProductoRes = getProductoRes;\nexports.patchProducto = patchProducto;\nvar _producto = _interopRequireDefault(require(\"./producto.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function getProducto(req, res) {\n  try {\n    const {\n      _id\n    } = req.query;\n    const producto = await _producto.default.find({\n      _id,\n      isDeleted: false\n    });\n    res.status(200).json(producto);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getProductoRes(req, res) {\n  try {\n    const {\n      restaurante,\n      categoria\n    } = req.query;\n    let producto = [];\n    if (restaurante && categoria) {\n      producto = await _producto.default.find({\n        restaurante,\n        categoria,\n        isDeleted: false\n      });\n    } else if (restaurante) {\n      producto = await _producto.default.find({\n        restaurante,\n        isDeleted: false\n      });\n    } else if (categoria) {\n      producto = await _producto.default.find({\n        categoria,\n        isDeleted: false\n      });\n    }\n    res.status(200).json(producto);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function createProducto(req, res) {\n  try {\n    const {\n      name,\n      restaurante,\n      categoria,\n      precio\n    } = req.body;\n    const producto = new _producto.default({\n      name,\n      restaurante,\n      categoria,\n      precio\n    });\n    const resultado = await producto.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchProducto(req, res) {\n  try {\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _producto.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n    console.log(updates);\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function deleteProducto(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await _producto.default.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdG8iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZ2V0UHJvZHVjdG8iLCJyZXEiLCJyZXMiLCJfaWQiLCJxdWVyeSIsInByb2R1Y3RvIiwiUHJvZHVjdG8iLCJmaW5kIiwiaXNEZWxldGVkIiwic3RhdHVzIiwianNvbiIsImVyciIsImdldFByb2R1Y3RvUmVzIiwicmVzdGF1cmFudGUiLCJjYXRlZ29yaWEiLCJjcmVhdGVQcm9kdWN0byIsIm5hbWUiLCJwcmVjaW8iLCJib2R5IiwicmVzdWx0YWRvIiwic2F2ZSIsInBhdGNoUHJvZHVjdG8iLCJ1cGRhdGVzIiwiZmluZE9uZUFuZFVwZGF0ZSIsIm5ldyIsInJ1blZhbGlkYXRvcnMiLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlUHJvZHVjdG8iLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHByb2R1Y3RvXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RvLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBQcm9kdWN0byBmcm9tICcuL3Byb2R1Y3RvLm1vZGVsJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0byhyZXEscmVzKSB7XHJcbiB0cnl7IFxyXG4gIFxyXG4gICAgY29uc3QgeyBfaWQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHByb2R1Y3RvID0gYXdhaXQgUHJvZHVjdG8uZmluZCh7X2lkLCBpc0RlbGV0ZWQ6ZmFsc2V9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RvKTtcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdG9SZXMocmVxLHJlcykge1xyXG4gIHRyeXtjb25zdCB7IHJlc3RhdXJhbnRlLGNhdGVnb3JpYX0gPSByZXEucXVlcnk7XHJcblxyXG4gIGxldCBwcm9kdWN0byA9IFtdO1xyXG5cclxuICBpZihyZXN0YXVyYW50ZSYmY2F0ZWdvcmlhKXtcclxuICAgICBwcm9kdWN0byA9IGF3YWl0IFByb2R1Y3RvLmZpbmQoe3Jlc3RhdXJhbnRlLCBjYXRlZ29yaWEsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgXHJcbiAgfWVsc2UgaWYocmVzdGF1cmFudGUpe1xyXG4gICAgIHByb2R1Y3RvID0gYXdhaXQgUHJvZHVjdG8uZmluZCh7cmVzdGF1cmFudGUsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgXHJcbiAgfWVsc2UgaWYoY2F0ZWdvcmlhKXtcclxuICAgICBwcm9kdWN0byA9IGF3YWl0IFByb2R1Y3RvLmZpbmQoe2NhdGVnb3JpYSwgaXNEZWxldGVkOmZhbHNlfSk7XHJcbiAgICBcclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG8pO1xyXG4gICB9IGNhdGNoKGVycil7XHJcbiAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3RvKHJlcSwgcmVzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgbmFtZSwgIHJlc3RhdXJhbnRlLCBjYXRlZ29yaWEsIHByZWNpb30gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHByb2R1Y3RvID0gbmV3IFByb2R1Y3RvKHsgbmFtZSwgIHJlc3RhdXJhbnRlLCBjYXRlZ29yaWEsIHByZWNpb30pO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgcHJvZHVjdG8uc2F2ZSgpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGF0Y2hQcm9kdWN0byhyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IHsgX2lkLCAuLi51cGRhdGVzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFByb2R1Y3RvLmZpbmRPbmVBbmRVcGRhdGUoe19pZCwgaXNEZWxldGVkIDogZmFsc2V9LHVwZGF0ZXMgLHsgbmV3OiB0cnVlLCBydW5WYWxpZGF0b3JzOiB0cnVlfSk7XHJcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVzKTtcclxuICAgIFxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9kdWN0byhyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IF9pZCA9IHJlcS5wYXJhbXMuX2lkO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgUHJvZHVjdG8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFakMsZUFBZUcsV0FBV0EsQ0FBQ0MsR0FB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","map":{"version":3,"names":["_producto","_interopRequireDefault","require","obj","__esModule","default","getProducto","req","res","_id","query","producto","Producto","find","isDeleted","status","json","err","getProductoRes","restaurante","categoria","createProducto","name","precio","body","resultado","save","patchProducto","updates","findOneAndUpdate","new","runValidators","console","log","deleteProducto","params"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\producto\\","sources":["producto.controller.js"],"sourcesContent":["\r\nimport Producto from './producto.model';\r\n\r\nexport async function getProducto(req,res) {\r\n try{ \r\n  \r\n    const { _id } = req.query;\r\n    const producto = await Producto.find({_id, isDeleted:false});\r\n    res.status(200).json(producto);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getProductoRes(req,res) {\r\n  try{const { restaurante,categoria} = req.query;\r\n\r\n  let producto = [];\r\n\r\n  if(restaurante&&categoria){\r\n     producto = await Producto.find({restaurante, categoria, isDeleted:false});\r\n    \r\n  }else if(restaurante){\r\n     producto = await Producto.find({restaurante, isDeleted:false});\r\n    \r\n  }else if(categoria){\r\n     producto = await Producto.find({categoria, isDeleted:false});\r\n    \r\n  }\r\n  res.status(200).json(producto);\r\n   } catch(err){\r\n   res.status(500).json(err);\r\n   }\r\n}\r\n\r\nexport async function createProducto(req, res) {\r\n  try {\r\n    const { name,  restaurante, categoria, precio} = req.body;\r\n    const producto = new Producto({ name,  restaurante, categoria, precio});\r\n    const resultado = await producto.save();\r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchProducto(req, res) {\r\n  try{\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Producto.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    console.log(updates);\r\n    \r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}\r\n\r\nexport async function deleteProducto(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Producto.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682556025261},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\producto.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst productoSchema = mongoose.Schema({\n  // campos\n  name: {\n    type: String,\n    required: true\n  },\n  restaurante: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"restaurante\",\n    required: true,\n    validate: {\n      validator: async function (id) {\n        const restaurante = await mongoose.model(\"restaurante\").findOne({\n          _id: id\n        });\n        if (restaurante == null || restaurante.isDeleted == true) {\n          throw new Error('No se encontro el restaurante');\n        }\n      }\n    }\n  },\n  categoria: {\n    type: String,\n    required: true\n  },\n  precio: {\n    type: Number,\n    required: true\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('producto', productoSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwcm9kdWN0b1NjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyZXN0YXVyYW50ZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsImlkIiwibW9kZWwiLCJmaW5kT25lIiwiX2lkIiwiaXNEZWxldGVkIiwiRXJyb3IiLCJjYXRlZ29yaWEiLCJwcmVjaW8iLCJOdW1iZXIiLCJCb29sZWFuIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHByb2R1Y3RvXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHByb2R1Y3RvU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIC8vIGNhbXBvc1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB9LFxyXG4gICAgcmVzdGF1cmFudGU6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJyZXN0YXVyYW50ZVwiLCByZXF1aXJlZDogdHJ1ZSwgdmFsaWRhdGU6IHt2YWxpZGF0b3I6IGFzeW5jIGZ1bmN0aW9uIChpZCl7XHJcbiAgICAgIGNvbnN0IHJlc3RhdXJhbnRlID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJyZXN0YXVyYW50ZVwiKS5maW5kT25lKHtfaWQ6aWR9KTtcclxuICAgICAgaWYocmVzdGF1cmFudGU9PW51bGwgfHwgcmVzdGF1cmFudGUuaXNEZWxldGVkID09dHJ1ZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBlbmNvbnRybyBlbCByZXN0YXVyYW50ZScpO1xyXG4gICAgICB9XHJcbiAgICB9fX0sIFxyXG4gICAgY2F0ZWdvcmlhOiB7dHlwZTogU3RyaW5nICwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcHJlY2lvIDoge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgaXNEZWxldGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3RvJywgcHJvZHVjdG9TY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxjQUFjLEdBQUdGLFFBQVEsQ0FBQ0csTUFBTSxDQUNwQztFQUNFO0VBQ0FDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQU0sQ0FBQztFQUN2Q0MsV0FBVyxFQUFFO0lBQUNILElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNNLEtBQUssQ0FBQ0MsUUFBUTtJQUFFQyxHQUFHLEVBQUUsYUFBYTtJQUFFSixRQUFRLEVBQUUsSUFBSTtJQUFFSyxRQUFRLEVBQUU7TUFBQ0MsU0FBUyxFQUFFLGVBQUFBLENBQWdCQyxFQUFFLEVBQUM7UUFDL0gsTUFBTU4sV0FBVyxHQUFHLE1BQU1SLFFBQVEsQ0FBQ2UsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDQyxPQUFPLENBQUM7VUFBQ0MsR0FBRyxFQUFDSDtRQUFFLENBQUMsQ0FBQztRQUN6RSxJQUFHTixXQUFXLElBQUUsSUFBSSxJQUFJQSxXQUFXLENBQUNVLFNBQVMsSUFBRyxJQUFJLEVBQUM7VUFDbkQsTUFBTSxJQUFJQyxLQUFLLENBQUMsK0JBQStCLENBQUM7UUFDbEQ7TUFDRjtJQUFDO0VBQUMsQ0FBQztFQUNIQyxTQUFTLEVBQUU7SUFBQ2YsSUFBSSxFQUFFQyxNQUFNO0lBQUdDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDMUNjLE1BQU0sRUFBRztJQUFDaEIsSUFBSSxFQUFFaUIsTUFBTTtJQUFFZixRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQ3ZDVyxTQUFTLEVBQUU7SUFBRWIsSUFBSSxFQUFFa0IsT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTTtBQUM3QyxDQUFDLEVBQ0Q7RUFBRUMsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUNyQjtBQUFDLElBQUFDLFFBQUEsR0FFYTFCLFFBQVEsQ0FBQ2UsS0FBSyxDQUFDLFVBQVUsRUFBRWIsY0FBYyxDQUFDO0FBQUF5QixPQUFBLENBQUFILE9BQUEsR0FBQUUsUUFBQSJ9","map":{"version":3,"names":["mongoose","require","productoSchema","Schema","name","type","String","required","restaurante","Types","ObjectId","ref","validate","validator","id","model","findOne","_id","isDeleted","Error","categoria","precio","Number","Boolean","default","timestamps","_default","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\producto\\","sources":["producto.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst productoSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    name: { type: String, required: true, },\r\n    restaurante: {type: mongoose.Schema.Types.ObjectId, ref: \"restaurante\", required: true, validate: {validator: async function (id){\r\n      const restaurante = await mongoose.model(\"restaurante\").findOne({_id:id});\r\n      if(restaurante==null || restaurante.isDeleted ==true){\r\n        throw new Error('No se encontro el restaurante');\r\n      }\r\n    }}}, \r\n    categoria: {type: String , required: true},\r\n    precio : {type: Number, required: true},\r\n    isDeleted: { type: Boolean, default: false },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('producto', productoSchema);\r\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,cAAc,GAAGF,QAAQ,CAACG,MAAM,CACpC;EACE;EACAC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACvCC,WAAW,EAAE;IAACH,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACM,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,aAAa;IAAEJ,QAAQ,EAAE,IAAI;IAAEK,QAAQ,EAAE;MAACC,SAAS,EAAE,eAAAA,CAAgBC,EAAE,EAAC;QAC/H,MAAMN,WAAW,GAAG,MAAMR,QAAQ,CAACe,KAAK,CAAC,aAAa,CAAC,CAACC,OAAO,CAAC;UAACC,GAAG,EAACH;QAAE,CAAC,CAAC;QACzE,IAAGN,WAAW,IAAE,IAAI,IAAIA,WAAW,CAACU,SAAS,IAAG,IAAI,EAAC;UACnD,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;QAClD;MACF;IAAC;EAAC,CAAC;EACHC,SAAS,EAAE;IAACf,IAAI,EAAEC,MAAM;IAAGC,QAAQ,EAAE;EAAI,CAAC;EAC1Cc,MAAM,EAAG;IAAChB,IAAI,EAAEiB,MAAM;IAAEf,QAAQ,EAAE;EAAI,CAAC;EACvCW,SAAS,EAAE;IAAEb,IAAI,EAAEkB,OAAO;IAAEC,OAAO,EAAE;EAAM;AAC7C,CAAC,EACD;EAAEC,UAAU,EAAE;AAAK,CAAC,CACrB;AAAC,IAAAC,QAAA,GAEa1B,QAAQ,CAACe,KAAK,CAAC,UAAU,EAAEb,cAAc,CAAC;AAAAyB,OAAA,CAAAH,OAAA,GAAAE,QAAA"}},"mtime":1682556600656},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\restaurante.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createRestaurante = createRestaurante;\nexports.deleteRestaurante = deleteRestaurante;\nexports.getRestaurante = getRestaurante;\nexports.getRestauranteCatNom = getRestauranteCatNom;\nexports.patchRestaurante = patchRestaurante;\nvar _restaurante = _interopRequireDefault(require(\"./restaurante.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst stringSimilarity = require('string-similarity');\nasync function getRestaurante(req, res) {\n  try {\n    const {\n      _id\n    } = req.query;\n    const restaurante = await _restaurante.default.find({\n      _id,\n      isDeleted: false\n    });\n    res.status(200).json(restaurante);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getRestauranteCatNom(req, res) {\n  const {\n    categoria,\n    name\n  } = req.query;\n  try {\n    let filteredRestaurants = [];\n    if (categoria && name) {\n      // Encontrar restaurantes por ambos filtro y nombre \n      filteredRestaurants = await _restaurante.default.find({\n        categoria: categoria,\n        $or: [{\n          name: {\n            $regex: name,\n            $options: 'i'\n          }\n        }, {\n          name: {\n            $regex: new RegExp(stringSimilarity.findBestMatch(name, await _restaurante.default.find().distinct('name')).bestMatch.target, 'i')\n          }\n        }]\n      }).sort({\n        numPedidos: -1\n      });\n    } else if (categoria) {\n      // Encontrar restaurantes por categoria solamente\n      filteredRestaurants = await _restaurante.default.find({\n        categoria: categoria\n      }).sort({\n        numPedidos: -1\n      });\n    } else if (name) {\n      // Encontrar restaurantes solo por nombre \n      filteredRestaurants = await _restaurante.default.find({\n        $or: [{\n          name: {\n            $regex: name,\n            $options: 'i'\n          }\n        }, {\n          name: {\n            $regex: new RegExp(stringSimilarity.findBestMatch(name, await _restaurante.default.find().distinct('name')).bestMatch.target, 'i')\n          }\n        }]\n      }).sort({\n        numPedidos: -1\n      });\n    }\n    res.status(200).json(filteredRestaurants);\n  } catch (err) {\n    console.error(err);\n    res.status(500).json(err);\n  }\n}\nasync function createRestaurante(req, res) {\n  try {\n    const {\n      name,\n      categoria,\n      direccion\n    } = req.body;\n    const restaurante = new _restaurante.default({\n      name,\n      categoria,\n      direccion\n    });\n    const resultado = await restaurante.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchRestaurante(req, res) {\n  try {\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _restaurante.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function deleteRestaurante(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await Producto.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVzdGF1cmFudGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RyaW5nU2ltaWxhcml0eSIsImdldFJlc3RhdXJhbnRlIiwicmVxIiwicmVzIiwiX2lkIiwicXVlcnkiLCJyZXN0YXVyYW50ZSIsIlJlc3RhdXJhbnRlIiwiZmluZCIsImlzRGVsZXRlZCIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJnZXRSZXN0YXVyYW50ZUNhdE5vbSIsImNhdGVnb3JpYSIsIm5hbWUiLCJmaWx0ZXJlZFJlc3RhdXJhbnRzIiwiJG9yIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJSZWdFeHAiLCJmaW5kQmVzdE1hdGNoIiwiZGlzdGluY3QiLCJiZXN0TWF0Y2giLCJ0YXJnZXQiLCJzb3J0IiwibnVtUGVkaWRvcyIsImNvbnNvbGUiLCJlcnJvciIsImNyZWF0ZVJlc3RhdXJhbnRlIiwiZGlyZWNjaW9uIiwiYm9keSIsInJlc3VsdGFkbyIsInNhdmUiLCJwYXRjaFJlc3RhdXJhbnRlIiwidXBkYXRlcyIsImZpbmRPbmVBbmRVcGRhdGUiLCJuZXciLCJydW5WYWxpZGF0b3JzIiwiZGVsZXRlUmVzdGF1cmFudGUiLCJwYXJhbXMiLCJQcm9kdWN0byJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxKYWltZVxcRGVza3RvcFxcQmFja2VuZFxcUHJveWVjdG9fMVxccmVzdGF1cmFudGVcXCIsInNvdXJjZXMiOlsicmVzdGF1cmFudGUuY29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFJlc3RhdXJhbnRlIGZyb20gJy4vcmVzdGF1cmFudGUubW9kZWwnO1xyXG5jb25zdCBzdHJpbmdTaW1pbGFyaXR5ID0gcmVxdWlyZSgnc3RyaW5nLXNpbWlsYXJpdHknKTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXN0YXVyYW50ZShyZXEscmVzKSB7XHJcbiAgdHJ5eyBcclxuICAgIGNvbnN0IHsgX2lkIH0gPSByZXEucXVlcnk7XHJcbiAgICBjb25zdCByZXN0YXVyYW50ZSA9IGF3YWl0IFJlc3RhdXJhbnRlLmZpbmQoe19pZCwgaXNEZWxldGVkOmZhbHNlfSk7XHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbihyZXN0YXVyYW50ZSk7XHJcbiAgfWNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFJlc3RhdXJhbnRlQ2F0Tm9tKHJlcSxyZXMpIHtcclxuICBjb25zdCB7IGNhdGVnb3JpYSwgbmFtZSB9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICB0cnkge1xyXG4gIGxldCBmaWx0ZXJlZFJlc3RhdXJhbnRzID0gW107XHJcblxyXG4gICAgaWYgKGNhdGVnb3JpYSAmJiBuYW1lKSB7XHJcbiAgICAgIC8vIEVuY29udHJhciByZXN0YXVyYW50ZXMgcG9yIGFtYm9zIGZpbHRybyB5IG5vbWJyZSBcclxuICAgICAgIGZpbHRlcmVkUmVzdGF1cmFudHMgPSBhd2FpdCBSZXN0YXVyYW50ZS5maW5kKHtcclxuICAgICAgICBjYXRlZ29yaWE6IGNhdGVnb3JpYSxcclxuICAgICAgICAkb3I6IFtcclxuICAgICAgICAgIHsgbmFtZTogeyAkcmVnZXg6IG5hbWUsICRvcHRpb25zOiAnaScgfSB9LFxyXG4gICAgICAgICAgeyBuYW1lOiB7ICRyZWdleDogbmV3IFJlZ0V4cChzdHJpbmdTaW1pbGFyaXR5LmZpbmRCZXN0TWF0Y2gobmFtZSwgYXdhaXQgUmVzdGF1cmFudGUuZmluZCgpLmRpc3RpbmN0KCduYW1lJykpLmJlc3RNYXRjaC50YXJnZXQsICdpJykgfSB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KS5zb3J0KHtudW1QZWRpZG9zOi0xfSk7XHJcbiAgICB9IGVsc2UgaWYgKGNhdGVnb3JpYSkge1xyXG4gICAgICAvLyBFbmNvbnRyYXIgcmVzdGF1cmFudGVzIHBvciBjYXRlZ29yaWEgc29sYW1lbnRlXHJcbiAgICAgICBmaWx0ZXJlZFJlc3RhdXJhbnRzID0gYXdhaXQgUmVzdGF1cmFudGUuZmluZCh7IGNhdGVnb3JpYTogY2F0ZWdvcmlhIH0pLnNvcnQoe251bVBlZGlkb3M6LTF9KTtcclxuICAgIH0gZWxzZSBpZiAobmFtZSkge1xyXG4gICAgICAvLyBFbmNvbnRyYXIgcmVzdGF1cmFudGVzIHNvbG8gcG9yIG5vbWJyZSBcclxuICAgICAgIGZpbHRlcmVkUmVzdGF1cmFudHMgPSBhd2FpdCBSZXN0YXVyYW50ZS5maW5kKHtcclxuICAgICAgICAkb3I6IFtcclxuICAgICAgICAgIHsgbmFtZTogeyAkcmVnZXg6IG5hbWUsICRvcHRpb25zOiAnaScgfSB9LFxyXG4gICAgICAgICAgeyBuYW1lOiB7ICRyZWdleDogbmV3IFJlZ0V4cChzdHJpbmdTaW1pbGFyaXR5LmZpbmRCZXN0TWF0Y2gobmFtZSwgYXdhaXQgUmVzdGF1cmFudGUuZmluZCgpLmRpc3RpbmN0KCduYW1lJykpLmJlc3RNYXRjaC50YXJnZXQsICdpJykgfSB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9KS5zb3J0KHtudW1QZWRpZG9zOi0xfSk7XHJcbiAgICB9IFxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGZpbHRlcmVkUmVzdGF1cmFudHMpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVSZXN0YXVyYW50ZShyZXEsIHJlcykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGNhdGVnb3JpYSAsIGRpcmVjY2lvbn0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3RhdXJhbnRlID0gbmV3IFJlc3RhdXJhbnRlKHsgbmFtZSwgY2F0ZWdvcmlhLCBkaXJlY2Npb259KTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IHJlc3RhdXJhbnRlLnNhdmUoKTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHJlc3VsdGFkbyk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhdGNoUmVzdGF1cmFudGUocmVxLCByZXMpIHtcclxuICB0cnl7XHJcbiAgICBjb25zdCB7IF9pZCwgLi4udXBkYXRlcyB9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCByZXN1bHRhZG8gPSBhd2FpdCBSZXN0YXVyYW50ZS5maW5kT25lQW5kVXBkYXRlKHtfaWQsIGlzRGVsZXRlZCA6IGZhbHNlfSx1cGRhdGVzICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVSZXN0YXVyYW50ZShyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IF9pZCA9IHJlcS5wYXJhbXMuX2lkO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgUHJvZHVjdG8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDQSxJQUFBQSxZQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEMsU0FBQUQsdUJBQUFF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","map":{"version":3,"names":["_restaurante","_interopRequireDefault","require","obj","__esModule","default","stringSimilarity","getRestaurante","req","res","_id","query","restaurante","Restaurante","find","isDeleted","status","json","err","getRestauranteCatNom","categoria","name","filteredRestaurants","$or","$regex","$options","RegExp","findBestMatch","distinct","bestMatch","target","sort","numPedidos","console","error","createRestaurante","direccion","body","resultado","save","patchRestaurante","updates","findOneAndUpdate","new","runValidators","deleteRestaurante","params","Producto"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\restaurante\\","sources":["restaurante.controller.js"],"sourcesContent":["\r\nimport Restaurante from './restaurante.model';\r\nconst stringSimilarity = require('string-similarity');\r\n\r\nexport async function getRestaurante(req,res) {\r\n  try{ \r\n    const { _id } = req.query;\r\n    const restaurante = await Restaurante.find({_id, isDeleted:false});\r\n    res.status(200).json(restaurante);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getRestauranteCatNom(req,res) {\r\n  const { categoria, name } = req.query;\r\n\r\n  try {\r\n  let filteredRestaurants = [];\r\n\r\n    if (categoria && name) {\r\n      // Encontrar restaurantes por ambos filtro y nombre \r\n       filteredRestaurants = await Restaurante.find({\r\n        categoria: categoria,\r\n        $or: [\r\n          { name: { $regex: name, $options: 'i' } },\r\n          { name: { $regex: new RegExp(stringSimilarity.findBestMatch(name, await Restaurante.find().distinct('name')).bestMatch.target, 'i') } }\r\n        ]\r\n      }).sort({numPedidos:-1});\r\n    } else if (categoria) {\r\n      // Encontrar restaurantes por categoria solamente\r\n       filteredRestaurants = await Restaurante.find({ categoria: categoria }).sort({numPedidos:-1});\r\n    } else if (name) {\r\n      // Encontrar restaurantes solo por nombre \r\n       filteredRestaurants = await Restaurante.find({\r\n        $or: [\r\n          { name: { $regex: name, $options: 'i' } },\r\n          { name: { $regex: new RegExp(stringSimilarity.findBestMatch(name, await Restaurante.find().distinct('name')).bestMatch.target, 'i') } }\r\n        ]\r\n      }).sort({numPedidos:-1});\r\n    } \r\n\r\n    res.status(200).json(filteredRestaurants);\r\n  } catch (err) {\r\n    console.error(err);\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function createRestaurante(req, res) {\r\n  try {\r\n    const { name, categoria , direccion} = req.body;\r\n    const restaurante = new Restaurante({ name, categoria, direccion});\r\n    const resultado = await restaurante.save();\r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchRestaurante(req, res) {\r\n  try{\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Restaurante.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}\r\n\r\nexport async function deleteRestaurante(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Producto.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682659784111},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\restaurante\\\\restaurante.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst restauranteSchema = mongoose.Schema({\n  // campos\n  name: {\n    type: String,\n    required: true\n  },\n  categoria: {\n    type: String,\n    required: true\n  },\n  numPedidos: {\n    type: Number,\n    default: 0\n  },\n  direccion: {\n    type: String,\n    required: true\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('restaurante', restauranteSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJyZXN0YXVyYW50ZVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjYXRlZ29yaWEiLCJudW1QZWRpZG9zIiwiTnVtYmVyIiwiZGVmYXVsdCIsImRpcmVjY2lvbiIsImlzRGVsZXRlZCIsIkJvb2xlYW4iLCJ0aW1lc3RhbXBzIiwiX2RlZmF1bHQiLCJtb2RlbCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHJlc3RhdXJhbnRlXFwiLCJzb3VyY2VzIjpbInJlc3RhdXJhbnRlLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHJlc3RhdXJhbnRlU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIC8vIGNhbXBvc1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICBjYXRlZ29yaWE6e3R5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIG51bVBlZGlkb3M6e3R5cGU6IE51bWJlciwgZGVmYXVsdDogMH0sXHJcbiAgICBkaXJlY2Npb246e3R5cGU6U3RyaW5nICwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgaXNEZWxldGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlfSxcclxuICB9LFxyXG4gIHsgdGltZXN0YW1wczogdHJ1ZSB9XHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbCgncmVzdGF1cmFudGUnLCByZXN0YXVyYW50ZVNjaGVtYSk7XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBVSxDQUFDO0FBRXBDLE1BQU1DLGlCQUFpQixHQUFHRixRQUFRLENBQUNHLE1BQU0sQ0FDdkM7RUFDRTtFQUNBQyxJQUFJLEVBQUU7SUFBRUMsSUFBSSxFQUFFQyxNQUFNO0lBQUVDLFFBQVEsRUFBRTtFQUFLLENBQUM7RUFDdENDLFNBQVMsRUFBQztJQUFDSCxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQUssQ0FBQztFQUN6Q0UsVUFBVSxFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFFQyxPQUFPLEVBQUU7RUFBQyxDQUFDO0VBQ3JDQyxTQUFTLEVBQUM7SUFBQ1AsSUFBSSxFQUFDQyxNQUFNO0lBQUdDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDeENNLFNBQVMsRUFBRTtJQUFFUixJQUFJLEVBQUVTLE9BQU87SUFBRUgsT0FBTyxFQUFFO0VBQUs7QUFDNUMsQ0FBQyxFQUNEO0VBQUVJLFVBQVUsRUFBRTtBQUFLLENBQUMsQ0FDckI7QUFBQyxJQUFBQyxRQUFBLEdBRWFoQixRQUFRLENBQUNpQixLQUFLLENBQUMsYUFBYSxFQUFFZixpQkFBaUIsQ0FBQztBQUFBZ0IsT0FBQSxDQUFBUCxPQUFBLEdBQUFLLFFBQUEifQ==","map":{"version":3,"names":["mongoose","require","restauranteSchema","Schema","name","type","String","required","categoria","numPedidos","Number","default","direccion","isDeleted","Boolean","timestamps","_default","model","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\restaurante\\","sources":["restaurante.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst restauranteSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    name: { type: String, required: true },\r\n    categoria:{type: String, required: true },\r\n    numPedidos:{type: Number, default: 0},\r\n    direccion:{type:String , required: true},\r\n    isDeleted: { type: Boolean, default: false},\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('restaurante', restauranteSchema);\r\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,iBAAiB,GAAGF,QAAQ,CAACG,MAAM,CACvC;EACE;EACAC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtCC,SAAS,EAAC;IAACH,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACzCE,UAAU,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAAEC,OAAO,EAAE;EAAC,CAAC;EACrCC,SAAS,EAAC;IAACP,IAAI,EAACC,MAAM;IAAGC,QAAQ,EAAE;EAAI,CAAC;EACxCM,SAAS,EAAE;IAAER,IAAI,EAAES,OAAO;IAAEH,OAAO,EAAE;EAAK;AAC5C,CAAC,EACD;EAAEI,UAAU,EAAE;AAAK,CAAC,CACrB;AAAC,IAAAC,QAAA,GAEahB,QAAQ,CAACiB,KAAK,CAAC,aAAa,EAAEf,iBAAiB,CAAC;AAAAgB,OAAA,CAAAP,OAAA,GAAAK,QAAA"}},"mtime":1682656447669},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\producto.routes.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = require(\"mongoose\");\nvar _producto = require(\"./producto.controller\");\nvar _express = require(\"express\");\nconst router = (0, _express.Router)();\n\n// Endpoint GET /prueba\nrouter.get('/', _producto.getProducto);\nrouter.get('/2', _producto.getProductoRes);\n\n// Endpoint POST /prueba\nrouter.post('/', _producto.createProducto);\n\n// Endpoint PATCH /prueba\nrouter.patch('/', _producto.patchProducto);\n\n// Endpoint DELETE /prueba\nrouter.delete('/', _producto.deleteProducto);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJyZXF1aXJlIiwiX3Byb2R1Y3RvIiwiX2V4cHJlc3MiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJnZXQiLCJnZXRQcm9kdWN0byIsImdldFByb2R1Y3RvUmVzIiwicG9zdCIsImNyZWF0ZVByb2R1Y3RvIiwicGF0Y2giLCJwYXRjaFByb2R1Y3RvIiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdG8iLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXEphaW1lXFxEZXNrdG9wXFxCYWNrZW5kXFxQcm95ZWN0b18xXFxwcm9kdWN0b1xcIiwic291cmNlcyI6WyJwcm9kdWN0by5yb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0IH0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVByb2R1Y3RvLCBkZWxldGVQcm9kdWN0bywgZ2V0UHJvZHVjdG8sIGdldFByb2R1Y3RvUmVzLCBwYXRjaFByb2R1Y3RvIH0gZnJvbSBcIi4vcHJvZHVjdG8uY29udHJvbGxlclwiO1xyXG5pbXBvcnQge1JvdXRlcn0gZnJvbSAnZXhwcmVzcyc7XHJcbmNvbnN0IHJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gRW5kcG9pbnQgR0VUIC9wcnVlYmFcclxucm91dGVyLmdldCgnLycsIGdldFByb2R1Y3RvICk7IFxyXG5cclxucm91dGVyLmdldCgnLzInLCBnZXRQcm9kdWN0b1JlcyApOyBcclxuXHJcbi8vIEVuZHBvaW50IFBPU1QgL3BydWViYVxyXG5yb3V0ZXIucG9zdCgnLycsIGNyZWF0ZVByb2R1Y3RvICk7XHJcblxyXG4vLyBFbmRwb2ludCBQQVRDSCAvcHJ1ZWJhXHJcbnJvdXRlci5wYXRjaCgnLycsIHBhdGNoUHJvZHVjdG8gKTtcclxuXHJcbi8vIEVuZHBvaW50IERFTEVURSAvcHJ1ZWJhXHJcbnJvdXRlci5kZWxldGUoJy8nLCBkZWxldGVQcm9kdWN0byApO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBRixPQUFBO0FBQ0EsTUFBTUcsTUFBTSxHQUFHLElBQUFDLGVBQU0sR0FBRTs7QUFFdkI7QUFDQUQsTUFBTSxDQUFDRSxHQUFHLENBQUMsR0FBRyxFQUFFQyxxQkFBVyxDQUFFO0FBRTdCSCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxJQUFJLEVBQUVFLHdCQUFjLENBQUU7O0FBRWpDO0FBQ0FKLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLEdBQUcsRUFBRUMsd0JBQWMsQ0FBRTs7QUFFakM7QUFDQU4sTUFBTSxDQUFDTyxLQUFLLENBQUMsR0FBRyxFQUFFQyx1QkFBYSxDQUFFOztBQUVqQztBQUNBUixNQUFNLENBQUNTLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLHdCQUFjLENBQUU7QUFBQyxJQUFBQyxRQUFBLEdBRXJCWCxNQUFNO0FBQUFZLE9BQUEsQ0FBQUMsT0FBQSxHQUFBRixRQUFBIn0=","map":{"version":3,"names":["_mongoose","require","_producto","_express","router","Router","get","getProducto","getProductoRes","post","createProducto","patch","patchProducto","delete","deleteProducto","_default","exports","default"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\producto\\","sources":["producto.routes.js"],"sourcesContent":["import { get } from \"mongoose\";\r\nimport { createProducto, deleteProducto, getProducto, getProductoRes, patchProducto } from \"./producto.controller\";\r\nimport {Router} from 'express';\r\nconst router = Router();\r\n\r\n// Endpoint GET /prueba\r\nrouter.get('/', getProducto ); \r\n\r\nrouter.get('/2', getProductoRes ); \r\n\r\n// Endpoint POST /prueba\r\nrouter.post('/', createProducto );\r\n\r\n// Endpoint PATCH /prueba\r\nrouter.patch('/', patchProducto );\r\n\r\n// Endpoint DELETE /prueba\r\nrouter.delete('/', deleteProducto );\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AACA,IAAAE,QAAA,GAAAF,OAAA;AACA,MAAMG,MAAM,GAAG,IAAAC,eAAM,GAAE;;AAEvB;AACAD,MAAM,CAACE,GAAG,CAAC,GAAG,EAAEC,qBAAW,CAAE;AAE7BH,MAAM,CAACE,GAAG,CAAC,IAAI,EAAEE,wBAAc,CAAE;;AAEjC;AACAJ,MAAM,CAACK,IAAI,CAAC,GAAG,EAAEC,wBAAc,CAAE;;AAEjC;AACAN,MAAM,CAACO,KAAK,CAAC,GAAG,EAAEC,uBAAa,CAAE;;AAEjC;AACAR,MAAM,CAACS,MAAM,CAAC,GAAG,EAAEC,wBAAc,CAAE;AAAC,IAAAC,QAAA,GAErBX,MAAM;AAAAY,OAAA,CAAAC,OAAA,GAAAF,QAAA"}},"mtime":1682125866680},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\producto.controller.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProducto = createProducto;\nexports.deleteProducto = deleteProducto;\nexports.getProducto = getProducto;\nexports.getProductoRes = getProductoRes;\nexports.patchProducto = patchProducto;\nvar _producto = _interopRequireDefault(require(\"./producto.model\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nasync function getProducto(req, res) {\n  try {\n    const {\n      _id\n    } = req.query;\n    const producto = await _producto.default.find({\n      _id,\n      isDeleted: false\n    });\n    res.status(200).json(producto);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function getProductoRes(req, res) {\n  try {\n    const {\n      restaurante,\n      categoria\n    } = req.query;\n    let producto = [];\n    if (restaurante && categoria) {\n      producto = await _producto.default.find({\n        restaurante,\n        categoria,\n        isDeleted: false\n      });\n    } else if (restaurante) {\n      producto = await _producto.default.find({\n        restaurante,\n        isDeleted: false\n      });\n    } else if (categoria) {\n      producto = await _producto.default.find({\n        categoria,\n        isDeleted: false\n      });\n    }\n    res.status(200).json(producto);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function createProducto(req, res) {\n  try {\n    const {\n      name,\n      restaurante,\n      categoria,\n      precio\n    } = req.body;\n    const producto = new _producto.default({\n      name,\n      restaurante,\n      categoria,\n      precio\n    });\n    const resultado = await producto.save();\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function patchProducto(req, res) {\n  try {\n    const {\n      _id,\n      ...updates\n    } = req.body;\n    const resultado = await _producto.default.findOneAndUpdate({\n      _id,\n      isDeleted: false\n    }, updates, {\n      new: true,\n      runValidators: true\n    });\n    console.log(updates);\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\nasync function deleteProducto(req, res) {\n  try {\n    const _id = req.params._id;\n    const resultado = await _producto.default.findOneAndUpdate(_id, {\n      isDeleted: true\n    }, {\n      new: true,\n      runValidators: true\n    });\n    res.status(200).json(resultado);\n  } catch (err) {\n    res.status(500).json(err);\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvZHVjdG8iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiZ2V0UHJvZHVjdG8iLCJyZXEiLCJyZXMiLCJfaWQiLCJxdWVyeSIsInByb2R1Y3RvIiwiUHJvZHVjdG8iLCJmaW5kIiwiaXNEZWxldGVkIiwic3RhdHVzIiwianNvbiIsImVyciIsImdldFByb2R1Y3RvUmVzIiwicmVzdGF1cmFudGUiLCJjYXRlZ29yaWEiLCJjcmVhdGVQcm9kdWN0byIsIm5hbWUiLCJwcmVjaW8iLCJib2R5IiwicmVzdWx0YWRvIiwic2F2ZSIsInBhdGNoUHJvZHVjdG8iLCJ1cGRhdGVzIiwiZmluZE9uZUFuZFVwZGF0ZSIsIm5ldyIsInJ1blZhbGlkYXRvcnMiLCJjb25zb2xlIiwibG9nIiwiZGVsZXRlUHJvZHVjdG8iLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHByb2R1Y3RvXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RvLmNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBQcm9kdWN0byBmcm9tICcuL3Byb2R1Y3RvLm1vZGVsJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9kdWN0byhyZXEscmVzKSB7XHJcbiB0cnl7IFxyXG4gIFxyXG4gICAgY29uc3QgeyBfaWQgfSA9IHJlcS5xdWVyeTtcclxuICAgIGNvbnN0IHByb2R1Y3RvID0gYXdhaXQgUHJvZHVjdG8uZmluZCh7X2lkLCBpc0RlbGV0ZWQ6ZmFsc2V9KTtcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHByb2R1Y3RvKTtcclxuICB9Y2F0Y2goZXJyKXtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZHVjdG9SZXMocmVxLHJlcykge1xyXG4gIHRyeXtjb25zdCB7IHJlc3RhdXJhbnRlLGNhdGVnb3JpYX0gPSByZXEucXVlcnk7XHJcblxyXG4gIGxldCBwcm9kdWN0byA9IFtdO1xyXG5cclxuICBpZihyZXN0YXVyYW50ZSYmY2F0ZWdvcmlhKXtcclxuICAgICBwcm9kdWN0byA9IGF3YWl0IFByb2R1Y3RvLmZpbmQoe3Jlc3RhdXJhbnRlLCBjYXRlZ29yaWEsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgXHJcbiAgfWVsc2UgaWYocmVzdGF1cmFudGUpe1xyXG4gICAgIHByb2R1Y3RvID0gYXdhaXQgUHJvZHVjdG8uZmluZCh7cmVzdGF1cmFudGUsIGlzRGVsZXRlZDpmYWxzZX0pO1xyXG4gICAgXHJcbiAgfWVsc2UgaWYoY2F0ZWdvcmlhKXtcclxuICAgICBwcm9kdWN0byA9IGF3YWl0IFByb2R1Y3RvLmZpbmQoe2NhdGVnb3JpYSwgaXNEZWxldGVkOmZhbHNlfSk7XHJcbiAgICBcclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdG8pO1xyXG4gICB9IGNhdGNoKGVycil7XHJcbiAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVByb2R1Y3RvKHJlcSwgcmVzKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgbmFtZSwgIHJlc3RhdXJhbnRlLCBjYXRlZ29yaWEsIHByZWNpb30gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHByb2R1Y3RvID0gbmV3IFByb2R1Y3RvKHsgbmFtZSwgIHJlc3RhdXJhbnRlLCBjYXRlZ29yaWEsIHByZWNpb30pO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgcHJvZHVjdG8uc2F2ZSgpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKGVycik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGF0Y2hQcm9kdWN0byhyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IHsgX2lkLCAuLi51cGRhdGVzIH0gPSByZXEuYm9keTtcclxuICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IFByb2R1Y3RvLmZpbmRPbmVBbmRVcGRhdGUoe19pZCwgaXNEZWxldGVkIDogZmFsc2V9LHVwZGF0ZXMgLHsgbmV3OiB0cnVlLCBydW5WYWxpZGF0b3JzOiB0cnVlfSk7XHJcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVzKTtcclxuICAgIFxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVQcm9kdWN0byhyZXEsIHJlcykge1xyXG4gIHRyeXtcclxuICAgIGNvbnN0IF9pZCA9IHJlcS5wYXJhbXMuX2lkO1xyXG4gICAgY29uc3QgcmVzdWx0YWRvID0gYXdhaXQgUHJvZHVjdG8uZmluZE9uZUFuZFVwZGF0ZShfaWQsIHtpc0RlbGV0ZWQgOnRydWV9ICx7IG5ldzogdHJ1ZSwgcnVuVmFsaWRhdG9yczogdHJ1ZX0pO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0YWRvKTtcclxuICB9IGNhdGNoKGVycil7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xyXG4gIH0gXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFDQSxJQUFBQSxTQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFakMsZUFBZUcsV0FBV0EsQ0FBQ0MsR0FB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","map":{"version":3,"names":["_producto","_interopRequireDefault","require","obj","__esModule","default","getProducto","req","res","_id","query","producto","Producto","find","isDeleted","status","json","err","getProductoRes","restaurante","categoria","createProducto","name","precio","body","resultado","save","patchProducto","updates","findOneAndUpdate","new","runValidators","console","log","deleteProducto","params"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\producto\\","sources":["producto.controller.js"],"sourcesContent":["\r\nimport Producto from './producto.model';\r\n\r\nexport async function getProducto(req,res) {\r\n try{ \r\n  \r\n    const { _id } = req.query;\r\n    const producto = await Producto.find({_id, isDeleted:false});\r\n    res.status(200).json(producto);\r\n  }catch(err){\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function getProductoRes(req,res) {\r\n  try{const { restaurante,categoria} = req.query;\r\n\r\n  let producto = [];\r\n\r\n  if(restaurante&&categoria){\r\n     producto = await Producto.find({restaurante, categoria, isDeleted:false});\r\n    \r\n  }else if(restaurante){\r\n     producto = await Producto.find({restaurante, isDeleted:false});\r\n    \r\n  }else if(categoria){\r\n     producto = await Producto.find({categoria, isDeleted:false});\r\n    \r\n  }\r\n  res.status(200).json(producto);\r\n   } catch(err){\r\n   res.status(500).json(err);\r\n   }\r\n}\r\n\r\nexport async function createProducto(req, res) {\r\n  try {\r\n    const { name,  restaurante, categoria, precio} = req.body;\r\n    const producto = new Producto({ name,  restaurante, categoria, precio});\r\n    const resultado = await producto.save();\r\n    res.status(200).json(resultado);\r\n  } catch (err) {\r\n    res.status(500).json(err);\r\n  }\r\n}\r\n\r\nexport async function patchProducto(req, res) {\r\n  try{\r\n    const { _id, ...updates } = req.body;\r\n    const resultado = await Producto.findOneAndUpdate({_id, isDeleted : false},updates ,{ new: true, runValidators: true});\r\n    console.log(updates);\r\n    \r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}\r\n\r\nexport async function deleteProducto(req, res) {\r\n  try{\r\n    const _id = req.params._id;\r\n    const resultado = await Producto.findOneAndUpdate(_id, {isDeleted :true} ,{ new: true, runValidators: true});\r\n    res.status(200).json(resultado);\r\n  } catch(err){\r\n    res.status(500).json(err);\r\n  } \r\n}"],"mappings":"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"}},"mtime":1682556025261},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"filename\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\\\\producto\\\\producto.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\Jaime\\\\Desktop\\\\Backend\\\\Proyecto_1\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.21.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst mongoose = require('mongoose');\nconst productoSchema = mongoose.Schema({\n  // campos\n  name: {\n    type: String,\n    required: true\n  },\n  restaurante: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: \"restaurante\",\n    required: true,\n    validate: {\n      validator: async function (id) {\n        const restaurante = await mongoose.model(\"restaurante\").findOne({\n          _id: id\n        });\n        if (restaurante == null || restaurante.isDeleted == true) {\n          throw new Error('No se encontro el restaurante');\n        }\n      }\n    }\n  },\n  categoria: {\n    type: String,\n    required: true\n  },\n  precio: {\n    type: Number,\n    required: true\n  },\n  isDeleted: {\n    type: Boolean,\n    default: false\n  }\n}, {\n  timestamps: true\n});\nvar _default = mongoose.model('producto', productoSchema);\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJwcm9kdWN0b1NjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyZXN0YXVyYW50ZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJ2YWxpZGF0ZSIsInZhbGlkYXRvciIsImlkIiwibW9kZWwiLCJmaW5kT25lIiwiX2lkIiwiaXNEZWxldGVkIiwiRXJyb3IiLCJjYXRlZ29yaWEiLCJwcmVjaW8iLCJOdW1iZXIiLCJCb29sZWFuIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcSmFpbWVcXERlc2t0b3BcXEJhY2tlbmRcXFByb3llY3RvXzFcXHByb2R1Y3RvXFwiLCJzb3VyY2VzIjpbInByb2R1Y3RvLm1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcclxuXHJcbmNvbnN0IHByb2R1Y3RvU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hKFxyXG4gIHtcclxuICAgIC8vIGNhbXBvc1xyXG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlLCB9LFxyXG4gICAgcmVzdGF1cmFudGU6IHt0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogXCJyZXN0YXVyYW50ZVwiLCByZXF1aXJlZDogdHJ1ZSwgdmFsaWRhdGU6IHt2YWxpZGF0b3I6IGFzeW5jIGZ1bmN0aW9uIChpZCl7XHJcbiAgICAgIGNvbnN0IHJlc3RhdXJhbnRlID0gYXdhaXQgbW9uZ29vc2UubW9kZWwoXCJyZXN0YXVyYW50ZVwiKS5maW5kT25lKHtfaWQ6aWR9KTtcclxuICAgICAgaWYocmVzdGF1cmFudGU9PW51bGwgfHwgcmVzdGF1cmFudGUuaXNEZWxldGVkID09dHJ1ZSl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSBlbmNvbnRybyBlbCByZXN0YXVyYW50ZScpO1xyXG4gICAgICB9XHJcbiAgICB9fX0sIFxyXG4gICAgY2F0ZWdvcmlhOiB7dHlwZTogU3RyaW5nICwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgcHJlY2lvIDoge3R5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWV9LFxyXG4gICAgaXNEZWxldGVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXHJcbiAgfSxcclxuICB7IHRpbWVzdGFtcHM6IHRydWUgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWwoJ3Byb2R1Y3RvJywgcHJvZHVjdG9TY2hlbWEpO1xyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLFFBQVEsR0FBR0MsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUVwQyxNQUFNQyxjQUFjLEdBQUdGLFFBQVEsQ0FBQ0csTUFBTSxDQUNwQztFQUNFO0VBQ0FDLElBQUksRUFBRTtJQUFFQyxJQUFJLEVBQUVDLE1BQU07SUFBRUMsUUFBUSxFQUFFO0VBQU0sQ0FBQztFQUN2Q0MsV0FBVyxFQUFFO0lBQUNILElBQUksRUFBRUwsUUFBUSxDQUFDRyxNQUFNLENBQUNNLEtBQUssQ0FBQ0MsUUFBUTtJQUFFQyxHQUFHLEVBQUUsYUFBYTtJQUFFSixRQUFRLEVBQUUsSUFBSTtJQUFFSyxRQUFRLEVBQUU7TUFBQ0MsU0FBUyxFQUFFLGVBQUFBLENBQWdCQyxFQUFFLEVBQUM7UUFDL0gsTUFBTU4sV0FBVyxHQUFHLE1BQU1SLFFBQVEsQ0FBQ2UsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDQyxPQUFPLENBQUM7VUFBQ0MsR0FBRyxFQUFDSDtRQUFFLENBQUMsQ0FBQztRQUN6RSxJQUFHTixXQUFXLElBQUUsSUFBSSxJQUFJQSxXQUFXLENBQUNVLFNBQVMsSUFBRyxJQUFJLEVBQUM7VUFDbkQsTUFBTSxJQUFJQyxLQUFLLENBQUMsK0JBQStCLENBQUM7UUFDbEQ7TUFDRjtJQUFDO0VBQUMsQ0FBQztFQUNIQyxTQUFTLEVBQUU7SUFBQ2YsSUFBSSxFQUFFQyxNQUFNO0lBQUdDLFFBQVEsRUFBRTtFQUFJLENBQUM7RUFDMUNjLE1BQU0sRUFBRztJQUFDaEIsSUFBSSxFQUFFaUIsTUFBTTtJQUFFZixRQUFRLEVBQUU7RUFBSSxDQUFDO0VBQ3ZDVyxTQUFTLEVBQUU7SUFBRWIsSUFBSSxFQUFFa0IsT0FBTztJQUFFQyxPQUFPLEVBQUU7RUFBTTtBQUM3QyxDQUFDLEVBQ0Q7RUFBRUMsVUFBVSxFQUFFO0FBQUssQ0FBQyxDQUNyQjtBQUFDLElBQUFDLFFBQUEsR0FFYTFCLFFBQVEsQ0FBQ2UsS0FBSyxDQUFDLFVBQVUsRUFBRWIsY0FBYyxDQUFDO0FBQUF5QixPQUFBLENBQUFILE9BQUEsR0FBQUUsUUFBQSJ9","map":{"version":3,"names":["mongoose","require","productoSchema","Schema","name","type","String","required","restaurante","Types","ObjectId","ref","validate","validator","id","model","findOne","_id","isDeleted","Error","categoria","precio","Number","Boolean","default","timestamps","_default","exports"],"sourceRoot":"C:\\Users\\Jaime\\Desktop\\Backend\\Proyecto_1\\producto\\","sources":["producto.model.js"],"sourcesContent":["const mongoose = require('mongoose');\r\n\r\nconst productoSchema = mongoose.Schema(\r\n  {\r\n    // campos\r\n    name: { type: String, required: true, },\r\n    restaurante: {type: mongoose.Schema.Types.ObjectId, ref: \"restaurante\", required: true, validate: {validator: async function (id){\r\n      const restaurante = await mongoose.model(\"restaurante\").findOne({_id:id});\r\n      if(restaurante==null || restaurante.isDeleted ==true){\r\n        throw new Error('No se encontro el restaurante');\r\n      }\r\n    }}}, \r\n    categoria: {type: String , required: true},\r\n    precio : {type: Number, required: true},\r\n    isDeleted: { type: Boolean, default: false },\r\n  },\r\n  { timestamps: true }\r\n);\r\n\r\nexport default mongoose.model('producto', productoSchema);\r\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEpC,MAAMC,cAAc,GAAGF,QAAQ,CAACG,MAAM,CACpC;EACE;EACAC,IAAI,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACvCC,WAAW,EAAE;IAACH,IAAI,EAAEL,QAAQ,CAACG,MAAM,CAACM,KAAK,CAACC,QAAQ;IAAEC,GAAG,EAAE,aAAa;IAAEJ,QAAQ,EAAE,IAAI;IAAEK,QAAQ,EAAE;MAACC,SAAS,EAAE,eAAAA,CAAgBC,EAAE,EAAC;QAC/H,MAAMN,WAAW,GAAG,MAAMR,QAAQ,CAACe,KAAK,CAAC,aAAa,CAAC,CAACC,OAAO,CAAC;UAACC,GAAG,EAACH;QAAE,CAAC,CAAC;QACzE,IAAGN,WAAW,IAAE,IAAI,IAAIA,WAAW,CAACU,SAAS,IAAG,IAAI,EAAC;UACnD,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;QAClD;MACF;IAAC;EAAC,CAAC;EACHC,SAAS,EAAE;IAACf,IAAI,EAAEC,MAAM;IAAGC,QAAQ,EAAE;EAAI,CAAC;EAC1Cc,MAAM,EAAG;IAAChB,IAAI,EAAEiB,MAAM;IAAEf,QAAQ,EAAE;EAAI,CAAC;EACvCW,SAAS,EAAE;IAAEb,IAAI,EAAEkB,OAAO;IAAEC,OAAO,EAAE;EAAM;AAC7C,CAAC,EACD;EAAEC,UAAU,EAAE;AAAK,CAAC,CACrB;AAAC,IAAAC,QAAA,GAEa1B,QAAQ,CAACe,KAAK,CAAC,UAAU,EAAEb,cAAc,CAAC;AAAAyB,OAAA,CAAAH,OAAA,GAAAE,QAAA"}},"mtime":1682556600656}}